{"ast":null,"code":"var _jsxFileName = \"/Users/rei.kawasato/Desktop/travel/src/pages/loginPage.tsx\";\nimport React, { useState } from 'react';\nimport useReactRouter from 'use-react-router';\nimport { makeStyles } from '@material-ui/core';\n\nconst Frame = require('../assets/decorativeframe2.png');\n\nconst useStyles = makeStyles({\n  startText: {\n    // borderBottom: \"1px solid #4575B4\",\n    // backgroundColor: \"#EFEDE9\",\n    fontSize: \"15px\",\n    color: \"#4575B4\",\n    // position: 'absolute',\n    // letterSpacing: \"6px\",\n    fontFamily: \"メイリオ\",\n    textAlign: \"center\",\n    // lineHeight: \"50px\",\n    paddingBottom: \"1px\"\n  },\n  buttonDesign: {\n    // borderBottom: \"1px solid #4575B4\",\n    backgroundColor: \"#EFEDE9\",\n    fontSize: \"15px\",\n    color: \"#4575B4\",\n    width: \"60%\",\n    height: \"5%\",\n    marginTop: \"-80%\",\n    marginLeft: \"20%\",\n    zIndex: 2,\n    position: 'absolute',\n    // letterSpacing: \"6px\",\n    fontFamily: \"メイリオ\",\n    textAlign: \"center\",\n    // lineHeight: \"50px\",\n    paddingBottom: \"1px\"\n  },\n  toStart: {\n    color: 'blue',\n    zIndex: 2,\n    borderBottom: '1px solid blue'\n  },\n  title: {\n    width: \"100%\",\n    top: \"20%\",\n    position: \"absolute\",\n    zIndex: 2,\n    margin: \"0 auto\"\n  },\n  border: {\n    marginLeft: 125,\n    textAlign: 'center',\n    border: '1px solid',\n    borderColor: 'blue',\n    zIndex: 2\n  },\n  center_wrapper: {\n    zIndex: 2,\n    textAlign: 'center'\n  },\n  forms: {\n    border: \"2px solid\",\n    borderColor: \"pink\",\n    position: \"absolute\",\n    top: \"45%\",\n    width: \"100%\"\n  },\n  frameDesign: {\n    zIndex: 0,\n    position: \"absolute\",\n    width: \"100%\",\n    // height: \"70%\",\n    display: 'flex',\n    alignItems: 'top',\n    //縦\n    // marginTop: \"10%\",\n    justifyContent: 'center' // marginLeft: '3%',\n    // padding: 10,\n\n  },\n  privacy: {\n    zIndex: 100,\n    position: \"absolute\",\n    top: \"-200%\",\n    // left: \"20%\",\n    height: \"400%\",\n    width: \"100%\",\n    borderColor: \"black\",\n    backgroundColor: \"black\"\n  },\n  cover: {\n    // width:\"100%\",\n    // height:\"100%\",\n    backgroundColor: \"red\",\n    position: \"absolute\",\n    left: \"20%\",\n    top: \"20%\",\n    zIndex: 600\n  }\n});\n\nconst Popup = props => {\n  const classes = useStyles();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.privacy,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, props.text), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: props.closePopup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, \"\\u9589\\u3058\\u308B\")));\n};\n\nconst LoginPage = () => {\n  const classes = useStyles();\n  const title = \"選択式ミステリー旅行\";\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const {\n    history\n  } = useReactRouter();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isPopup, setIsPopup] = useState(false);\n  const [isChecked, setIsChecked] = useState(false);\n\n  const togglePopup = () => {\n    setIsPopup(!isPopup);\n    console.log(isPopup);\n  };\n\n  const userLogin = async event => {\n    if (isChecked === false) {\n      setErrorMessage('チェックを入れてください');\n      return;\n    }\n\n    if (email && password) {\n      fetch(\"https://jtb-prd.two-choices.jp/api/login\", {\n        //非同期処理\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: email,\n          password: password\n        })\n      }).then(async res => {\n        if (res.status < 400) {\n          if (res.isChanged) {\n            const data = await res.json();\n            localStorage.setItem('jwt', JSON.stringify(data)); // const jwt = localStorage.getItem('jwt')\n            // console.log(jwt)\n\n            history.push('/tutorial');\n          } else {\n            const data = await res.json();\n            localStorage.setItem('jwt', JSON.stringify(data)); // const jwt = localStorage.getItem('jwt')\n            // console.log(jwt)\n\n            history.push('/passwordReset');\n          }\n        } else {\n          console.log(res);\n          setErrorMessage('通信でエラーが発生しました');\n        }\n      }).catch(error => {\n        if (error.statusCode >= 400) setErrorMessage('通信でエラーが発生しました');\n      }); //同期処理\n    } else {\n      setErrorMessage('メールアドレス、パスワードを入力してください');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.center_wrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.cover,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: Frame,\n    className: classes.frameDesign,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.buttonDesign,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default LoginPage;","map":{"version":3,"sources":["/Users/rei.kawasato/Desktop/travel/src/pages/loginPage.tsx"],"names":["React","useState","useReactRouter","makeStyles","Frame","require","useStyles","startText","fontSize","color","fontFamily","textAlign","paddingBottom","buttonDesign","backgroundColor","width","height","marginTop","marginLeft","zIndex","position","toStart","borderBottom","title","top","margin","border","borderColor","center_wrapper","forms","frameDesign","display","alignItems","justifyContent","privacy","cover","left","Popup","props","classes","text","closePopup","LoginPage","email","setEmail","password","setPassword","history","errorMessage","setErrorMessage","isPopup","setIsPopup","isChecked","setIsChecked","togglePopup","console","log","userLogin","event","fetch","method","headers","body","JSON","stringify","username","then","res","status","isChanged","data","json","localStorage","setItem","push","catch","error","statusCode"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport useReactRouter from 'use-react-router';\nimport { useDispatch } from \"react-redux\";\nimport pageActionModule, { usePageAction } from \"../modules/pageActionModule\";\nimport { login } from '../modules/api';\nimport { Typography, makeStyles, Grid, Box, Button } from '@material-ui/core'\nimport classes from '*.module.css';\nimport { Widgets } from '@material-ui/icons';\nconst Frame = require('../assets/decorativeframe2.png');\n\nconst useStyles = makeStyles({\n  startText: {\n    // borderBottom: \"1px solid #4575B4\",\n    // backgroundColor: \"#EFEDE9\",\n    fontSize: \"15px\",\n    color: \"#4575B4\",\n    // position: 'absolute',\n    // letterSpacing: \"6px\",\n    fontFamily: \"メイリオ\",\n    textAlign: \"center\",\n    // lineHeight: \"50px\",\n    paddingBottom: \"1px\",\n  },\n  buttonDesign: {\n    // borderBottom: \"1px solid #4575B4\",\n    backgroundColor: \"#EFEDE9\",\n    fontSize: \"15px\",\n    color: \"#4575B4\",\n    width: \"60%\",\n    height: \"5%\",\n    marginTop: \"-80%\",\n    marginLeft: \"20%\",\n    zIndex: 2,\n    position: 'absolute',\n    // letterSpacing: \"6px\",\n    fontFamily: \"メイリオ\",\n    textAlign: \"center\",\n    // lineHeight: \"50px\",\n    paddingBottom: \"1px\",\n  },\n  toStart: {\n    color: 'blue',\n    zIndex: 2,\n    borderBottom: '1px solid blue'\n  },\n  title: {\n    width: \"100%\",\n    top: \"20%\",\n    position: \"absolute\",\n    zIndex: 2,\n    margin: \"0 auto\",\n  },\n  border: {\n    marginLeft: 125,\n    textAlign: 'center',\n    border: '1px solid',\n    borderColor: 'blue',\n    zIndex: 2,\n  },\n  center_wrapper: {\n    zIndex: 2,\n    textAlign: 'center',\n  },\n  forms: {\n    border: \"2px solid\",\n    borderColor: \"pink\",\n    position: \"absolute\",\n    top: \"45%\",\n    width: \"100%\",\n  },\n  \n  frameDesign: {\n    zIndex: 0,\n    position: \"absolute\",\n    width: \"100%\",\n    // height: \"70%\",\n    display: 'flex',\n    alignItems: 'top',//縦\n    // marginTop: \"10%\",\n    justifyContent: 'center',\n    // marginLeft: '3%',\n    // padding: 10,\n  },\n  privacy: {\n    zIndex: 100,\n    position: \"absolute\",\n    top: \"-200%\",\n    // left: \"20%\",\n    height: \"400%\",\n    width: \"100%\",\n    borderColor: \"black\",\n    backgroundColor: \"black\",\n  },\n  cover: {\n    // width:\"100%\",\n    // height:\"100%\",\n    backgroundColor: \"red\",\n    position:\"absolute\",\n    left:\"20%\",\n    top:\"20%\",\n    zIndex:600,\n  }\n})\n\nconst Popup: React.FC<{ text: string, closePopup: any }> = (props: any) => {\n  const classes = useStyles()\n  return (\n    <div>\n      {/* <Fade></Fade> */}\n      <div className={classes.privacy}>\n        <h1>{props.text}</h1>\n        <button onClick={props.closePopup}>閉じる</button>\n      </div>\n    </div>\n  );\n}\nconst LoginPage: React.FC = () => {\n  const classes = useStyles()\n  const title = \"選択式ミステリー旅行\"\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const { history } = useReactRouter();\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isPopup, setIsPopup] = useState(false);\n  const [isChecked, setIsChecked] = useState(false);\n\n  const togglePopup = () => {\n    setIsPopup(!isPopup)\n    console.log(isPopup)\n  }\n\n\n  const userLogin = async (event: React.MouseEvent<HTMLElement>) => {\n\n    if(isChecked===false){\n      setErrorMessage('チェックを入れてください');\n      return\n    }\n\n    if (email && password) {\n      fetch(\"https://jtb-prd.two-choices.jp/api/login\", {//非同期処理\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ username: email, password: password })\n\n      }).then(async (res: any) => {\n        if (res.status < 400) {\n            if(res.isChanged){\n\n              const data = await res.json()\n              localStorage.setItem('jwt', JSON.stringify(data))\n              // const jwt = localStorage.getItem('jwt')\n              // console.log(jwt)\n              history.push('/tutorial')\n            }else{\n              const data = await res.json()\n              localStorage.setItem('jwt', JSON.stringify(data))\n              // const jwt = localStorage.getItem('jwt')\n              // console.log(jwt)\n              history.push('/passwordReset')\n            }\n          \n        } else {\n\n          console.log(res)\n          setErrorMessage('通信でエラーが発生しました')\n        }\n\n      })\n        .catch(error => { if (error.statusCode >= 400) setErrorMessage('通信でエラーが発生しました') })//同期処理\n\n\n    } else {\n      setErrorMessage('メールアドレス、パスワードを入力してください');\n    }\n  }\n\n  return (\n    <div className={classes.center_wrapper}>\n      <div className={classes.cover}></div>\n      {/* <div className={classes.title}>\n        <p >{title}</p>\n        <p >Persol Presents</p>\n      </div> */}\n      <img src={Frame} className={classes.frameDesign} />\n\n\n\n      <div className={classes.buttonDesign}>\n\n\n      </div>\n    </div >\n  )\n}\n\n\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}