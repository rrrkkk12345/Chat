{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rei.kawasato/Desktop/travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/rei.kawasato/Desktop/travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/rei.kawasato/Desktop/travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import useReactRouter from'use-react-router';import{useDispatch}from\"react-redux\";import{makeStyles}from'@material-ui/core';var Frame=require('../assets/decorativeframe2.png');var useStyles=makeStyles({startText:{// borderBottom: \"1px solid #4575B4\",\nbackgroundColor:\"#EFEDE9\",fontSize:\"15px\",color:\"#4575B4\",width:\"60%\",height:\"5%\",marginTop:\"-70%\",marginLeft:\"20%\",zIndex:2,position:'absolute',// letterSpacing: \"6px\",\nfontFamily:\"メイリオ\",textAlign:\"center\",// lineHeight: \"50px\",\npaddingBottom:\"1px\"},buttonDesign:{// borderBottom: \"1px solid #4575B4\",\nbackgroundColor:\"#EFEDE9\",fontSize:\"15px\",color:\"#4575B4\",width:\"60%\",height:\"5%\",marginTop:\"20%\",marginLeft:\"20%\",zIndex:2,position:'absolute',// letterSpacing: \"6px\",\nfontFamily:\"メイリオ\",textAlign:\"center\",// lineHeight: \"50px\",\npaddingBottom:\"1px\"},toStart:{color:'blue',zIndex:2,borderBottom:'1px solid blue'},title:{textAlign:'center',zIndex:2,alignItems:'top'},border:{marginLeft:125,textAlign:'center',border:'1px solid',borderColor:'blue',zIndex:2},center_wrapper:{zIndex:2,textAlign:'center'},frameDesign:{zIndex:500,width:\"90%\",height:\"70%\",display:'flex',alignItems:'top',//縦\nmarginTop:\"10%\",justifyContent:'center',marginLeft:'3%',padding:10}});var PasswordWithConfirm=function PasswordWithConfirm(){var classes=useStyles();var title=\"選択式ミステリー旅行\";var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),confirmcode=_useState6[0],setConfirmcode=_useState6[1];var _useReactRouter=useReactRouter(),history=_useReactRouter.history;var dispatch=useDispatch();var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),securityCode=_useState8[0],setSecurityCode=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),errorMessage=_useState10[0],setErrorMessage=_useState10[1];var resetPassword=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(email){fetch(\"https://jtb-prd.two-choices.jp/api/forgot_password/\",{//非同期処理\nmethod:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:email,password:password,confirmcode:confirmcode})}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(res){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(res.status===200)){_context.next=7;break;}_context.next=3;return res.json();case 3:data=_context.sent;alert(\"入力されたメールアドレス宛にパスワードをお送りしました。このパスワードでログインしてください\");_context.next=8;break;case 7:setErrorMessage('通信でエラーが発生しました');case 8:case\"end\":return _context.stop();}}},_callee);}));return function(_x2){return _ref2.apply(this,arguments);};}()).catch(function(error){if(error.statusCode>=400)setErrorMessage('通信でエラーが発生しました');});//同期処理\n}else{setErrorMessage('メールアドレスを入力してください');}case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function resetPassword(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:classes.center_wrapper},/*#__PURE__*/React.createElement(\"p\",{className:classes.title},\"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u3092\\u5FD8\\u308C\\u305F\\u65B9\"),/*#__PURE__*/React.createElement(\"div\",{className:classes.buttonDesign},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"confirm\",placeholder:\"confirmcode\\u3092\\u5165\\u529B\",value:confirmcode,onChange:function onChange(e){return setConfirmcode(e.target.value);}}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"email\",placeholder:\"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\\u3092\\u5165\\u529B\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",placeholder:\"\\u65B0\\u3057\\u3044\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u3092\\u5165\\u529B\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/React.createElement(\"div\",null),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(e){return resetPassword(e);}},\"\\u9001\\u4FE1\")),/*#__PURE__*/React.createElement(\"div\",null),/*#__PURE__*/React.createElement(\"div\",{className:classes.startText},\" \\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u3092\\u304A\\u5FD8\\u308C\\u306E\\u65B9\\u306F\\u3053\\u3061\\u3089\\u306B\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\\u3092\\u5165\\u529B\\u3057\\u3001\\u9001\\u4FE1\\u30DC\\u30BF\\u30F3\\u3092\\u62BC\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"));};export default PasswordWithConfirm;","map":{"version":3,"sources":["/Users/rei.kawasato/Desktop/travel/src/pages/passwordConfirm.tsx"],"names":["React","useState","useReactRouter","useDispatch","makeStyles","Frame","require","useStyles","startText","backgroundColor","fontSize","color","width","height","marginTop","marginLeft","zIndex","position","fontFamily","textAlign","paddingBottom","buttonDesign","toStart","borderBottom","title","alignItems","border","borderColor","center_wrapper","frameDesign","display","justifyContent","padding","PasswordWithConfirm","classes","email","setEmail","password","setPassword","confirmcode","setConfirmcode","history","dispatch","securityCode","setSecurityCode","errorMessage","setErrorMessage","resetPassword","event","fetch","method","headers","body","JSON","stringify","username","then","res","status","json","data","alert","catch","error","statusCode","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport useReactRouter from 'use-react-router';\nimport { useDispatch } from \"react-redux\";\nimport pageActionModule, { usePageAction } from \"../modules/pageActionModule\";\nimport { login } from '../modules/api';\nimport { Typography, makeStyles, Grid, Box, Button } from '@material-ui/core'\nconst Frame = require('../assets/decorativeframe2.png');\n\nconst useStyles = makeStyles({\n  startText: {\n    // borderBottom: \"1px solid #4575B4\",\n    backgroundColor: \"#EFEDE9\",\n    fontSize: \"15px\",\n    color: \"#4575B4\",\n    width: \"60%\",\n    height: \"5%\",\n    marginTop: \"-70%\",\n    marginLeft: \"20%\",\n    zIndex: 2,\n    position: 'absolute',\n    // letterSpacing: \"6px\",\n    fontFamily: \"メイリオ\",\n    textAlign: \"center\",\n    // lineHeight: \"50px\",\n    paddingBottom: \"1px\",\n  },\n  buttonDesign: {\n    // borderBottom: \"1px solid #4575B4\",\n    backgroundColor: \"#EFEDE9\",\n    fontSize: \"15px\",\n    color: \"#4575B4\",\n    width: \"60%\",\n    height: \"5%\",\n    marginTop: \"20%\",\n    marginLeft: \"20%\",\n    zIndex: 2,\n    position: 'absolute',\n    // letterSpacing: \"6px\",\n    fontFamily: \"メイリオ\",\n    textAlign: \"center\",\n    // lineHeight: \"50px\",\n    paddingBottom: \"1px\",\n  },\n  toStart: {\n    color: 'blue',\n    zIndex: 2,\n    borderBottom: '1px solid blue'\n  },\n  title: {\n    textAlign: 'center',\n    zIndex: 2,\n    alignItems: 'top'\n  },\n  border: {\n    marginLeft: 125,\n    textAlign: 'center',\n    border: '1px solid',\n    borderColor: 'blue',\n    zIndex: 2,\n  },\n  center_wrapper: {\n    zIndex: 2,\n    textAlign: 'center',\n  },\n  frameDesign: {\n    zIndex: 500,\n    width: \"90%\",\n    height: \"70%\",\n    display: 'flex',\n    alignItems: 'top',//縦\n    marginTop: \"10%\",\n    justifyContent: 'center',\n    marginLeft: '3%',\n    padding: 10,\n  }\n})\n\nconst PasswordWithConfirm: React.FC = () => {\n  const classes = useStyles()\n  const title = \"選択式ミステリー旅行\"\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmcode, setConfirmcode] = useState('');\n  const { history } = useReactRouter();\n  const dispatch = useDispatch();\n  const [securityCode, setSecurityCode] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const resetPassword = async (event: React.MouseEvent<HTMLElement>) => {\n    if (email) {\n      fetch(\"https://jtb-prd.two-choices.jp/api/forgot_password/\", {//非同期処理\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ username: email,password:password,confirmcode:confirmcode })\n\n      }).then(async (res: any) => {\n        if (res.status === 200) {\n\n          const data = await res.json()\n          alert(\"入力されたメールアドレス宛にパスワードをお送りしました。このパスワードでログインしてください\")\n        } else {\n\n          setErrorMessage('通信でエラーが発生しました')\n        }\n\n      })\n        .catch(error => { if (error.statusCode >= 400) setErrorMessage('通信でエラーが発生しました') })//同期処理\n\n\n    } else {\n      setErrorMessage('メールアドレスを入力してください');\n    }\n\n}\n\nreturn (\n  <div className={classes.center_wrapper}>\n    {/* <p className={classes.title}>{title}</p> */}\n    <p className={classes.title}>パスワードを忘れた方</p>\n    <div className={classes.buttonDesign}>\n      <input\n        type=\"text\"\n        name=\"confirm\"\n        placeholder=\"confirmcodeを入力\"\n        value={confirmcode}\n        onChange={e => setConfirmcode(e.target.value)}\n      />\n      <input\n        type=\"text\"\n        name=\"email\"\n        placeholder=\"メールアドレスを入力\"\n        value={email}\n        onChange={e => setEmail(e.target.value)}\n      />\n      <input\n        type=\"password\"\n        name=\"password\"\n        placeholder=\"新しいパスワードを入力\"\n        value={password}\n        onChange={e => setPassword(e.target.value)}\n      />\n      <div></div>\n      <button\n        onClick={(e) => resetPassword(e)}\n      >\n        送信\n        </button>\n\n    </div>\n    <div></div>\n    <div className={classes.startText}> パスワードをお忘れの方はこちらにメールアドレスを入力し、送信ボタンを押してください</div>\n\n  </div>\n)\n}\n\n\nexport default PasswordWithConfirm;"]},"metadata":{},"sourceType":"module"}