{"ast":null,"code":"var _jsxFileName = \"/Users/rei.kawasato/Desktop/travel/src/pages/loginPage.tsx\";\nimport React, { useState, useRef } from 'react';\nimport useReactRouter from 'use-react-router';\nimport { useDispatch } from \"react-redux\";\nimport { makeStyles } from '@material-ui/core';\n\nconst Frame = require('../assets/decorativeframe2.png');\n\nconst useStyles = makeStyles({\n  startText: {\n    // borderBottom: \"1px solid #4575B4\",\n    backgroundColor: \"#EFEDE9\",\n    fontSize: \"15px\",\n    color: \"#4575B4\",\n    width: \"60%\",\n    height: \"5%\",\n    marginTop: \"-70%\",\n    marginLeft: \"20%\",\n    zIndex: 2,\n    position: 'absolute',\n    // letterSpacing: \"6px\",\n    fontFamily: \"メイリオ\",\n    textAlign: \"center\",\n    // lineHeight: \"50px\",\n    paddingBottom: \"1px\"\n  },\n  buttonDesign: {\n    // borderBottom: \"1px solid #4575B4\",\n    backgroundColor: \"#EFEDE9\",\n    fontSize: \"15px\",\n    color: \"#4575B4\",\n    width: \"60%\",\n    height: \"5%\",\n    marginTop: \"-80%\",\n    marginLeft: \"20%\",\n    zIndex: 2,\n    position: 'absolute',\n    // letterSpacing: \"6px\",\n    fontFamily: \"メイリオ\",\n    textAlign: \"center\",\n    // lineHeight: \"50px\",\n    paddingBottom: \"1px\"\n  },\n  toStart: {\n    color: 'blue',\n    zIndex: 2,\n    borderBottom: '1px solid blue'\n  },\n  title: {\n    textAlign: 'center',\n    zIndex: 2,\n    alignItems: 'top'\n  },\n  border: {\n    marginLeft: 125,\n    textAlign: 'center',\n    border: '1px solid',\n    borderColor: 'blue',\n    zIndex: 2\n  },\n  center_wrapper: {\n    zIndex: 2,\n    textAlign: 'center'\n  },\n  frameDesign: {\n    zIndex: 500,\n    width: \"90%\",\n    height: \"70%\",\n    display: 'flex',\n    alignItems: 'top',\n    //縦\n    marginTop: \"10%\",\n    justifyContent: 'center',\n    marginLeft: '3%',\n    padding: 10\n  }\n});\n\nconst Popup = props => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, \"aaaaaaa\", /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, props.text), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: props.closePopup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, \"close me\")));\n};\n\nconst LoginPage = () => {\n  const classes = useStyles();\n  const title = \"選択式ミステリー旅行\";\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const {\n    history\n  } = useReactRouter();\n  const dispatch = useDispatch();\n  const [securityCode, setSecurityCode] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isPopup, setIsPopup] = useState(false);\n  const [isShown, setIsShown] = useState(false);\n  const popupRef = useRef();\n  const documentClickHandler = useRef();\n\n  const togglePopup = () => {\n    console.log(isPopup);\n    setIsPopup(true);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }\n    }, \"aaaaaaa\", /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }\n    }, \"aaa\")));\n  };\n\n  const userLogin = async event => {\n    if (email && password) {\n      fetch(\"https://jtb-prd.two-choices.jp/api/login\", {\n        //非同期処理\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: email,\n          password: password\n        })\n      }).then(async res => {\n        if (res.status < 400) {\n          const data = await res.json();\n          localStorage.setItem('jwt', JSON.stringify(data)); // const jwt = localStorage.getItem('jwt')\n          // console.log(jwt)\n\n          history.push('/tutorial');\n        } else {\n          console.log(res);\n          setErrorMessage('通信でエラーが発生しました');\n        }\n      }).catch(error => {\n        if (error.statusCode >= 400) setErrorMessage('通信でエラーが発生しました');\n      }); //同期処理\n    } else {\n      setErrorMessage('メールアドレス、パスワードを入力してください');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.center_wrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Frame,\n    className: classes.frameDesign,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: classes.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }\n  }, title), /*#__PURE__*/React.createElement(\"p\", {\n    className: classes.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }\n  }, \"Persol Presents\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.buttonDesign,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"email\",\n    placeholder: \"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\\u3092\\u5165\\u529B\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\" //passwordに後で変更\n    ,\n    name: \"password\",\n    placeholder: \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u3092\\u5165\\u529B\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\" // checked={checked}\n    // defaultChecked={defaultChecked}\n    // onChange={event => onChange(event)}\n    ,\n    className: \"checkbox__main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => togglePopup(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }\n  }, \"show popup\"))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: e => userLogin(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }\n  }, \"\\u30ED\\u30B0\\u30A4\\u30F3\"), errorMessage, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.startText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }\n  }, \" \\u4E8B\\u524D\\u306B\\u30E1\\u30FC\\u30EB\\u306B\\u3066\\u3054\\u6848\\u5185\\u3057\\u307E\\u3057\\u305F\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 58\n    }\n  }), \"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\\u3068\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: classes.toStart,\n    onClick: () => history.push('/passwordForgot'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }\n  }, \"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u3092\\u304A\\u5FD8\\u308C\\u306E\\u65B9\\u306F\\u3053\\u3061\\u3089\")));\n};\n\nexport default LoginPage;","map":{"version":3,"sources":["/Users/rei.kawasato/Desktop/travel/src/pages/loginPage.tsx"],"names":["React","useState","useRef","useReactRouter","useDispatch","makeStyles","Frame","require","useStyles","startText","backgroundColor","fontSize","color","width","height","marginTop","marginLeft","zIndex","position","fontFamily","textAlign","paddingBottom","buttonDesign","toStart","borderBottom","title","alignItems","border","borderColor","center_wrapper","frameDesign","display","justifyContent","padding","Popup","props","text","closePopup","LoginPage","classes","email","setEmail","password","setPassword","history","dispatch","securityCode","setSecurityCode","errorMessage","setErrorMessage","isPopup","setIsPopup","isShown","setIsShown","popupRef","documentClickHandler","togglePopup","console","log","userLogin","event","fetch","method","headers","body","JSON","stringify","username","then","res","status","data","json","localStorage","setItem","push","catch","error","statusCode","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect,useRef } from 'react';\nimport useReactRouter from 'use-react-router';\nimport { useDispatch } from \"react-redux\";\nimport pageActionModule, { usePageAction } from \"../modules/pageActionModule\";\nimport { login } from '../modules/api';\nimport { Typography, makeStyles, Grid, Box, Button } from '@material-ui/core'\nconst Frame = require('../assets/decorativeframe2.png');\n\nconst useStyles = makeStyles({\n  startText: {\n    // borderBottom: \"1px solid #4575B4\",\n    backgroundColor: \"#EFEDE9\",\n    fontSize: \"15px\",\n    color: \"#4575B4\",\n    width: \"60%\",\n    height: \"5%\",\n    marginTop: \"-70%\",\n    marginLeft: \"20%\",\n    zIndex: 2,\n    position: 'absolute',\n    // letterSpacing: \"6px\",\n    fontFamily: \"メイリオ\",\n    textAlign: \"center\",\n    // lineHeight: \"50px\",\n    paddingBottom: \"1px\",\n  },\n  buttonDesign: {\n    // borderBottom: \"1px solid #4575B4\",\n    backgroundColor: \"#EFEDE9\",\n    fontSize: \"15px\",\n    color: \"#4575B4\",\n    width: \"60%\",\n    height: \"5%\",\n    marginTop: \"-80%\",\n    marginLeft: \"20%\",\n    zIndex: 2,\n    position: 'absolute',\n    // letterSpacing: \"6px\",\n    fontFamily: \"メイリオ\",\n    textAlign: \"center\",\n    // lineHeight: \"50px\",\n    paddingBottom: \"1px\",\n  },\n  toStart: {\n    color: 'blue',\n    zIndex: 2,\n    borderBottom: '1px solid blue'\n  },\n  title: {\n    textAlign: 'center',\n    zIndex: 2,\n    alignItems: 'top'\n  },\n  border: {\n    marginLeft: 125,\n    textAlign: 'center',\n    border: '1px solid',\n    borderColor: 'blue',\n    zIndex: 2,\n  },\n  center_wrapper: {\n    zIndex: 2,\n    textAlign: 'center',\n  },\n  frameDesign: {\n    zIndex: 500,\n    width: \"90%\",\n    height: \"70%\",\n    display: 'flex',\n    alignItems: 'top',//縦\n    marginTop: \"10%\",\n    justifyContent: 'center',\n    marginLeft: '3%',\n    padding: 10,\n  }\n})\n\nconst Popup: React.FC<{text:string,closePopup:any}> = (props:any) => {\n  return (\n    <div>\n      <div>\n        aaaaaaa\n        <h1>{props.text}</h1>\n        <button onClick={props.closePopup}>close me</button>\n      </div>\n    </div>\n  );\n}\nconst LoginPage: React.FC = () => {\n  const classes = useStyles()\n  const title = \"選択式ミステリー旅行\"\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const { history } = useReactRouter();\n  const dispatch = useDispatch();\n  const [securityCode, setSecurityCode] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isPopup, setIsPopup] = useState(false);\n  const [isShown, setIsShown] = useState(false)\n  const popupRef = useRef()\n  const documentClickHandler = useRef()\n  \n  const togglePopup = () => {\n    console.log(isPopup)\n    setIsPopup(true)\n    return (\n      <div>\n        <div>\n          aaaaaaa\n          <h1>aaa</h1>\n          {/* <button onClick={props.closePopup}>close me</button> */}\n        </div>\n      </div>\n    );\n  }\n\n\n  const userLogin = async (event: React.MouseEvent<HTMLElement>) => {\n\n    if (email && password) {\n      fetch(\"https://jtb-prd.two-choices.jp/api/login\", {//非同期処理\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ username: email, password: password })\n\n      }).then(async (res: any) => {\n        if (res.status < 400) {\n\n          const data = await res.json()\n          localStorage.setItem('jwt', JSON.stringify(data))\n          // const jwt = localStorage.getItem('jwt')\n          // console.log(jwt)\n          history.push('/tutorial')\n        } else {\n\n          console.log(res)\n          setErrorMessage('通信でエラーが発生しました')\n        }\n\n      })\n        .catch(error => { if (error.statusCode >= 400) setErrorMessage('通信でエラーが発生しました') })//同期処理\n\n\n    } else {\n      setErrorMessage('メールアドレス、パスワードを入力してください');\n    }\n  }\n\n  return (\n    <div className={classes.center_wrapper}>\n      <img src={Frame} className={classes.frameDesign} />\n      <p className={classes.title}>{title}</p>\n      <p className={classes.title}>Persol Presents</p>\n      <div className={classes.buttonDesign}>\n        <input\n\n          type=\"text\"\n          name=\"email\"\n          placeholder=\"メールアドレスを入力\"\n          value={email}\n          onChange={e => setEmail(e.target.value)}\n        />\n        <div></div>\n        <input\n          type=\"text\"//passwordに後で変更\n          name=\"password\"\n          placeholder=\"パスワードを入力\"\n          value={password}\n          onChange={e => setPassword(e.target.value)}\n        />\n        <input\n          type=\"checkbox\"\n          // checked={checked}\n          // defaultChecked={defaultChecked}\n          // onChange={event => onChange(event)}\n          className=\"checkbox__main\"\n        />\n        <div>\n        <button onClick={()=>togglePopup()}>show popup</button>\n          {/* {isPopup ? \n          \n            <Popup text=\"Close me\" closePopup={togglePopup()}/>\n            : null\n          } */}\n        </div>\n      </div>\n      <div></div>\n      <button\n        onClick={(e) => userLogin(e)}\n      >\n      ログイン\n      </button>\n      { errorMessage }\n      <div className={classes.startText}> 事前にメールにてご案内しました<br></br>\n        メールアドレスとパスワードを入力してください</div>\n\n      <div>\n        <a className={classes.toStart} onClick={() => history.push('/passwordForgot')}>パスワードをお忘れの方はこちら</a>\n      </div>\n    </div >\n  )\n}\n\n\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}