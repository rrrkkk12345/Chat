{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rei.kawasato/Desktop/travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/rei.kawasato/Desktop/travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/rei.kawasato/Desktop/travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import useReactRouter from'use-react-router';import{useDispatch}from\"react-redux\";import{makeStyles}from'@material-ui/core';import commonStyle from'./accountCommon.module.css';var Frame=require('../assets/decorativeframe2.png');var useStyles=makeStyles({startText:{// borderBottom: \"1px solid #4575B4\",\nbackgroundColor:\"#EFEDE9\",fontSize:\"15px\",color:\"#4575B4\",width:\"60%\",height:\"5%\",marginTop:\"-70%\",marginLeft:\"20%\",zIndex:2,position:'absolute',// letterSpacing: \"6px\",\nfontFamily:\"メイリオ\",textAlign:\"center\",// lineHeight: \"50px\",\npaddingBottom:\"1px\"},buttonDesign:{// borderBottom: \"1px solid #4575B4\",\nbackgroundColor:\"#EFEDE9\",fontSize:\"15px\",color:\"#4575B4\",width:\"60%\",height:\"5%\",marginTop:\"20%\",marginLeft:\"20%\",zIndex:2,position:'absolute',// letterSpacing: \"6px\",\nfontFamily:\"メイリオ\",textAlign:\"center\",// lineHeight: \"50px\",\npaddingBottom:\"1px\"},toStart:{color:'blue',zIndex:2,borderBottom:'1px solid blue'},title:{textAlign:'center',zIndex:2,alignItems:'top'},border:{marginLeft:125,textAlign:'center',border:'1px solid',borderColor:'blue',zIndex:2},center_wrapper:{zIndex:2,textAlign:'center'},frameDesign:{zIndex:500,width:\"90%\",height:\"70%\",display:'flex',alignItems:'top',//縦\nmarginTop:\"10%\",justifyContent:'center',marginLeft:'3%',padding:10}});var PasswordForgot=function PasswordForgot(){var classes=useStyles();var title=\"選択式ミステリー旅行\";var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useReactRouter=useReactRouter(),history=_useReactRouter.history;var dispatch=useDispatch();var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),securityCode=_useState6[0],setSecurityCode=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),errorMessage=_useState8[0],setErrorMessage=_useState8[1];var resetPassword=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(email){fetch(\"https://jtb-prd.two-choices.jp/api/reset/\",{//非同期処理\nmethod:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:email})}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(res){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(res.status===200){alert(\"入力されたメールアドレス宛に検証コードをお送りしました。このコードでパスワードを再設定してください\");history.push('/passwordConfirm');}else{setErrorMessage('通信でエラーが発生しました');}case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x2){return _ref2.apply(this,arguments);};}()).catch(function(error){if(error.statusCode>=400)setErrorMessage('通信でエラーが発生しました');});//同期処理\n}else{setErrorMessage('メールアドレスを入力してください');}case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function resetPassword(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:commonStyle.accountFormInner},/*#__PURE__*/React.createElement(\"div\",{className:commonStyle.accountFormMain},/*#__PURE__*/React.createElement(\"div\",{className:commonStyle.accountFormWrapper},/*#__PURE__*/React.createElement(\"div\",{className:commonStyle.accountFormCardContainer},/*#__PURE__*/React.createElement(\"h1\",{className:commonStyle.accountFormTitle},\"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\\u5909\\u66F4\"),errorMessage?/*#__PURE__*/React.createElement(\"p\",{className:commonStyle.accountFormError},errorMessage):null,/*#__PURE__*/React.createElement(\"form\",{className:commonStyle.accountForm},/*#__PURE__*/React.createElement(\"div\",{className:commonStyle.accountFormContent},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"email\",placeholder:\"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9\\u3092\\u5165\\u529B\"// value={newPassword}\n,onChange:function onChange(e){return setEmail(e.target.value);}})))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{className:commonStyle.accountFormButton,onClick:function onClick(e){return resetPassword(e);}},\"\\u9001\\u4FE1\\u3059\\u308B\"))))))// <div className={classes.center_wrapper}>\n//   {/* <p className={classes.title}>{title}</p> */}\n//   <h3>パスワードをお忘れの方はこちらにメールアドレスを入力し、送信ボタンを押してください</h3>\n//   {/* <div className={classes.buttonDesign}> */}\n//   <TextField\n//     id=\"standard-basic\"\n//     label=\"メールアドレス\"\n//     type=\"text\"\n//     onChange={e => setEmail(e.target.value)}\n//   />\n//   <div></div>\n//   <div></div>\n//   <button\n//     onClick={(e) => resetPassword(e)}\n//   >\n//     送信\n//     </button>\n//   {/* </div> */}\n//   <div></div>\n//   <div className={classes.startText}> パスワードをお忘れの方はこちらにメールアドレスを入力し、送信ボタンを押してください</div>\n// </div>\n;};export default PasswordForgot;","map":{"version":3,"sources":["/Users/rei.kawasato/Desktop/travel/src/pages/passwordForgot.tsx"],"names":["React","useState","useReactRouter","useDispatch","makeStyles","commonStyle","Frame","require","useStyles","startText","backgroundColor","fontSize","color","width","height","marginTop","marginLeft","zIndex","position","fontFamily","textAlign","paddingBottom","buttonDesign","toStart","borderBottom","title","alignItems","border","borderColor","center_wrapper","frameDesign","display","justifyContent","padding","PasswordForgot","classes","email","setEmail","password","setPassword","history","dispatch","securityCode","setSecurityCode","errorMessage","setErrorMessage","resetPassword","event","fetch","method","headers","body","JSON","stringify","username","then","res","status","alert","push","catch","error","statusCode","accountFormInner","accountFormMain","accountFormWrapper","accountFormCardContainer","accountFormTitle","accountFormError","accountForm","accountFormContent","e","target","value","accountFormButton"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport useReactRouter from 'use-react-router';\nimport { useDispatch } from \"react-redux\";\nimport pageActionModule, { usePageAction } from \"../modules/pageActionModule\";\nimport { login } from '../modules/api';\nimport { Typography, makeStyles, TextField, Grid, Box, Button } from '@material-ui/core'\nimport commonStyle from './accountCommon.module.css';\nconst Frame = require('../assets/decorativeframe2.png');\n\nconst useStyles = makeStyles({\n  startText: {\n    // borderBottom: \"1px solid #4575B4\",\n    backgroundColor: \"#EFEDE9\",\n    fontSize: \"15px\",\n    color: \"#4575B4\",\n    width: \"60%\",\n    height: \"5%\",\n    marginTop: \"-70%\",\n    marginLeft: \"20%\",\n    zIndex: 2,\n    position: 'absolute',\n    // letterSpacing: \"6px\",\n    fontFamily: \"メイリオ\",\n    textAlign: \"center\",\n    // lineHeight: \"50px\",\n    paddingBottom: \"1px\",\n  },\n  buttonDesign: {\n    // borderBottom: \"1px solid #4575B4\",\n    backgroundColor: \"#EFEDE9\",\n    fontSize: \"15px\",\n    color: \"#4575B4\",\n    width: \"60%\",\n    height: \"5%\",\n    marginTop: \"20%\",\n    marginLeft: \"20%\",\n    zIndex: 2,\n    position: 'absolute',\n    // letterSpacing: \"6px\",\n    fontFamily: \"メイリオ\",\n    textAlign: \"center\",\n    // lineHeight: \"50px\",\n    paddingBottom: \"1px\",\n  },\n  toStart: {\n    color: 'blue',\n    zIndex: 2,\n    borderBottom: '1px solid blue'\n  },\n  title: {\n    textAlign: 'center',\n    zIndex: 2,\n    alignItems: 'top'\n  },\n  border: {\n    marginLeft: 125,\n    textAlign: 'center',\n    border: '1px solid',\n    borderColor: 'blue',\n    zIndex: 2,\n  },\n  center_wrapper: {\n    zIndex: 2,\n    textAlign: 'center',\n  },\n  frameDesign: {\n    zIndex: 500,\n    width: \"90%\",\n    height: \"70%\",\n    display: 'flex',\n    alignItems: 'top',//縦\n    marginTop: \"10%\",\n    justifyContent: 'center',\n    marginLeft: '3%',\n    padding: 10,\n  }\n})\n\nconst PasswordForgot: React.FC = () => {\n  const classes = useStyles()\n  const title = \"選択式ミステリー旅行\"\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const { history } = useReactRouter();\n  const dispatch = useDispatch();\n  const [securityCode, setSecurityCode] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const resetPassword = async (event: React.MouseEvent<HTMLElement>) => {\n    if (email) {\n      fetch(\"https://jtb-prd.two-choices.jp/api/reset/\", {//非同期処理\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ username: email })\n\n      }).then(async (res: any) => {\n        if (res.status === 200) {\n\n          alert(\"入力されたメールアドレス宛に検証コードをお送りしました。このコードでパスワードを再設定してください\")\n          history.push('/passwordConfirm')\n        } else {\n\n          setErrorMessage('通信でエラーが発生しました')\n        }\n\n      })\n        .catch(error => { if (error.statusCode >= 400) setErrorMessage('通信でエラーが発生しました') })//同期処理\n\n\n    } else {\n      setErrorMessage('メールアドレスを入力してください');\n    }\n\n  }\n\n  return (\n    <div className={commonStyle.accountFormInner}>\n      <div className={commonStyle.accountFormMain}>\n        <div className={commonStyle.accountFormWrapper}>\n          <div className={commonStyle.accountFormCardContainer}>\n            <h1 className={commonStyle.accountFormTitle}>\n              パスワード変更\n                </h1>\n            {errorMessage ? <p className={commonStyle.accountFormError}>{errorMessage}</p> : null}\n            <form className={commonStyle.accountForm}>\n              <div className={commonStyle.accountFormContent}>\n\n                <p>\n                  <input\n                    type=\"text\"\n                    name=\"email\"\n                    placeholder=\"メールアドレスを入力\"\n                    // value={newPassword}\n                    onChange={e => setEmail(e.target.value)}\n                  />\n                </p>\n              </div>\n              {/* <p>※8文字以上。大文字・小文字英数字・記号を１つ以上</p> */}\n            </form>\n            <div>\n              <button\n                className={commonStyle.accountFormButton}\n                onClick={e => resetPassword(e)}\n              >送信する\n                </button>\n\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    // <div className={classes.center_wrapper}>\n    //   {/* <p className={classes.title}>{title}</p> */}\n    //   <h3>パスワードをお忘れの方はこちらにメールアドレスを入力し、送信ボタンを押してください</h3>\n    //   {/* <div className={classes.buttonDesign}> */}\n    //   <TextField\n    //     id=\"standard-basic\"\n    //     label=\"メールアドレス\"\n    //     type=\"text\"\n    //     onChange={e => setEmail(e.target.value)}\n    //   />\n    //   <div></div>\n    //   <div></div>\n    //   <button\n    //     onClick={(e) => resetPassword(e)}\n    //   >\n    //     送信\n    //     </button>\n\n    //   {/* </div> */}\n    //   <div></div>\n    //   <div className={classes.startText}> パスワードをお忘れの方はこちらにメールアドレスを入力し、送信ボタンを押してください</div>\n\n    // </div>\n  )\n}\n\n\nexport default PasswordForgot;"]},"metadata":{},"sourceType":"module"}