{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rei.kawasato/Desktop/travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/rei.kawasato/Desktop/travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/rei.kawasato/Desktop/travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"/Users/rei.kawasato/Desktop/travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/rei.kawasato/Desktop/travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useRef}from'react';import{makeStyles,Grid,Button,ListItemAvatar,Avatar,List}from'@material-ui/core';import ListItem from'@material-ui/core/ListItem';import useReactRouter from'use-react-router';// import classes from '*.module.css';\nimport HeaderChat from'./headerChat';import userIcon from'../assets/avatarWomen.png';import jsonDataMale from'../utils/db2.json';import jsonDataFemale from'../utils/db_f.json';import InputBase from\"@material-ui/core/InputBase\";import IconButton from\"@material-ui/core/IconButton\";import ForwardIcon from'@material-ui/icons/Forward';var UserIcon=require('../assets/test.png');var TabChatOn=require('../assets/TabChatOn.png');var TabMapOff=require('../assets/TabMapOff.png');var Tap=require('../assets/Tap.png');var headerHeight='44px';var ContentBodyHeight=\"calc(100vh - \".concat(headerHeight,\")\");var selectButtonRadius='18px';var baseFontColor='#4575b4';var textInputBgColor='#fefffe';var useStyles=makeStyles(function(theme){return{chatDesignContainer:{display:\"flex\",position:\"relative\",width:\"100%\",// height: '100vh',\n// height: 'calc(100vh - 200px)',\nheight:ContentBodyHeight,flexDirection:'column',justifyContent:'flex-start',alignItems:'center',paddingTop:headerHeight,paddingBottom:'156px'// paddingBottom: isButton ? '156px' : 'calc(10% + 1rem)',\n// paddingBottom: 'calc(20% + 1rem)',\n},chatDesign:{display:'flex',justifyContent:'center',position:\"relative\",width:\"100%\",backgroundColor:\"#EFEDE9\",// top: \"10%\",\n// paddingTop: headerHeight,\npaddingBottom:\"291px\",overflow:\"auto\",'& .MuiList-padding':{display:'flex',justifyContent:'center',padding:'0.5rem 1rem'}},chatDesignInner:{position:\"relative\",width:\"100%\",maxWidth:'390px',height:ContentBodyHeight},buttonDesign:{bottom:\"30%\",position:\"fixed\",borderRadius:\"50%\",// backgroundColor: \"blue\",\ncolor:\"white\",// zIndex:100,\n// marginLeft: \"40%\",\nfontFamily:'メイリオ'// cursor: \"pointer\",\n},selectButton:{width:\"100%\",minHeight:'10%',// height: '10%',\njustifyItems:'center',textAlign:'center',padding:'0.5rem 0',position:'fixed',bottom:\"10%\",backgroundColor:'#EFEDE9',boxShadow:'inset 0 -0.5px 0 0 rgba(0, 0, 0, 0.2)','& .MuiButton-label':{color:baseFontColor},'& .MuiButton-disableElevation':{width:'100%',maxWidth:'326px',height:'100%',minHeight:headerHeight,border:'1px solid #cdcdcd',backgroundColor:'#FFFFFF'},'& .MuiGrid-grid-xs-12:nth-of-type(1)':{'& button':{borderTopLeftRadius:selectButtonRadius,borderTopRightRadius:selectButtonRadius}},'& .MuiGrid-grid-xs-12:nth-of-type(2)':{'& button':{borderBottomLeftRadius:selectButtonRadius,borderBottomRightRadius:selectButtonRadius}}},narrator:{fontFamily:'メイリオ',// fontSize: 20,\ndisplay:'flex',alignItems:'flex-start',//縦\ntextAlign:'left',//横\nbackgroundColor:'#efdcc9',color:\"#994C00\",borderRadius:16,width:'100%',maxWidth:'390px',marginTop:20,justifyContent:'flex-start',// marginLeft: '15%',\npadding:'1rem'// position:'relative',\n},yukaWrapper:{display:'flex',flexDirection:'column',justifyContent:'flex-start',alignItems:'flex-start','& .MuiListItemAvatar-root':{minWidth:'40px'},'& .MuiAvatar-root':{width:'31px',height:'31px'}},yuka:{fontFamily:'メイリオ',width:'100%',maxWidth:'25ch',backgroundColor:theme.palette.background.paper,borderRadius:17.5,borderColor:'blue',padding:10},yuka_label:{fontSize:15,marginBottom:'0%',marginLeft:'15%',marginTop:'0.5rem'},syujiinkoWrapper:{display:'flex',flexDirection:'column',justifyContent:'flex-start',alignItems:'flex-end'},syujiinko:{fontFamily:'メイリオ',border:'1px solid #bfc8d5',color:'#7088b1',borderRadius:17.5,backgroundColor:'#e2e3e4',width:'auto',maxWidth:'27ch',padding:10},avatar:{// padding: 10,\nmarginLeft:50},square:{width:\"100%\",height:\"900px\",// margin:'0',\nbackgroundColor:\"#eeedea\"},bottomTab:{position:\"fixed\",bottom:\"0\",height:\"10%\",width:\"100%\",backgroundColor:\"#eeedea\",display:\"flex\",flexDirection:\"row\",textAlign:\"center\",justifyContent:\"center\",alignItems:\"center\"},bottomChat:{// border: \"2px solid\",\n// borderColor: \"pink\",\nflex:1},bottomMap:{// border: \"2px solid\",\n// borderColor: \"pink\",\nflex:1},mapLabel:{color:baseFontColor,fontWeight:'bold',fontSize:'14px',letterSpacing:'-0.32px',textAlign:'center',bottom:\"13%\",position:\"fixed\",borderRadius:\"50%\",// backgroundColor: \"blue\",\n// zIndex:100,\n// marginLeft: \"40%\",\nfontFamily:'メイリオ'// cursor: \"pointer\",\n},sendButtonContainer:{display:'flex',justifyContent:\"center\",alignItems:'center',width:'100%',padding:'0 1rem'},sendButtonWrapper:{paddingLeft:'0.5rem',display:'flex',alignItems:'center',width:'100%',maxWidth:'390px',backgroundColor:textInputBgColor,border:'1px solid #c4c4c6',borderRadius:selectButtonRadius},input:{marginLeft:theme.spacing(1),flex:1},iconButton:{padding:10}};});var currentSentenceIdInit=\"0\";var genderInit=\"0\";var spotIdInit=\"A\";var spotNameInit=\"大谷資料館\";var scenarioListInit=[{sentenceId:\"0\",nextSentenceId:\"1\",personName:\"優花\",sentence:{plane:\"初期値消したい\",button:[{buttonLabel:\"海外強度料理にしよう\",nextSentenceId:\"21\"},{buttonLabel:\"お蕎麦屋さんにしよう\",nextSentenceId:\"22\"}]},reply:\"true\"}];var isButtonInit=false;var isReplyInit=false;var isBtnLabelInit_1=\"\";var isBtnLabelInit_2=\"\";var isBtnScenarioIdInit_1=\"\";var isBtnScenarioIdInit_2=\"\";var BottomTab=function BottomTab(){var _useReactRouter=useReactRouter(),history=_useReactRouter.history;var classes=useStyles();return/*#__PURE__*/React.createElement(\"div\",{className:classes.bottomTab},/*#__PURE__*/React.createElement(\"div\",{className:classes.bottomChat},/*#__PURE__*/React.createElement(\"img\",{src:TabChatOn}),/*#__PURE__*/React.createElement(\"div\",null,\"\\u30C1\\u30E3\\u30C3\\u30C8\")),/*#__PURE__*/React.createElement(\"div\",{className:classes.bottomMap,onClick:function onClick(){return history.push(\"/map\");}},/*#__PURE__*/React.createElement(\"img\",{src:TabMapOff}),/*#__PURE__*/React.createElement(\"div\",null,\"\\u30DE\\u30C3\\u30D7\")));};var btn1=\"\";var Chat=function Chat(){var _useReactRouter2=useReactRouter(),history=_useReactRouter2.history;var classes=useStyles();var _useState=useState(),_useState2=_slicedToArray(_useState,2),jsonData=_useState2[0],setJsonData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),scenarioList=_useState4[0],setScenarioList=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),scenarioLog=_useState6[0],setScenarioLog=_useState6[1];var _useState7=useState(currentSentenceIdInit),_useState8=_slicedToArray(_useState7,2),currentSentenceId=_useState8[0],setCurrentSentenceId=_useState8[1];var _useState9=useState(isButtonInit),_useState10=_slicedToArray(_useState9,2),isButton=_useState10[0],setIsButton=_useState10[1];var _useState11=useState(isReplyInit),_useState12=_slicedToArray(_useState11,2),isReply=_useState12[0],setIsReply=_useState12[1];var _useState13=useState(isBtnLabelInit_1),_useState14=_slicedToArray(_useState13,2),btnLabel_1=_useState14[0],setBtnLabel_1=_useState14[1];var _useState15=useState(isBtnLabelInit_2),_useState16=_slicedToArray(_useState15,2),btnLabel_2=_useState16[0],setBtnLabel_2=_useState16[1];var _useState17=useState(isBtnScenarioIdInit_1),_useState18=_slicedToArray(_useState17,2),btnScenarioId_1=_useState18[0],setBtnScenarioId_1=_useState18[1];var _useState19=useState(isBtnScenarioIdInit_2),_useState20=_slicedToArray(_useState19,2),btnScenarioId_2=_useState20[0],setBtnScenarioId_2=_useState20[1];var _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),btnText=_useState22[0],setBtnText=_useState22[1];var _useState23=useState(\"\"),_useState24=_slicedToArray(_useState23,2),gender=_useState24[0],setGender=_useState24[1];var _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),reply=_useState26[0],setReply=_useState26[1];var isFirstRender=useRef(false);var ref=useRef(null);useEffect(function(){var jwt=JSON.parse(localStorage.getItem('jwt'));var Authorization=jwt.Authorization,Accesstoken=jwt.Accesstoken;var scenarioHistString=localStorage.getItem('scenarioHist');// const scenarioHist: string<{ nextSentenceId: string, personName: string, plane: string }> = localStorage.getItem('scenarioHist')\n// const { personName, plane } = scenarioHist\nconsole.log(scenarioHistString);// console.log(\"3\")\nif(scenarioHistString){console.log(\"Localstorage\");var scenarioHist=JSON.parse(scenarioHistString);if(scenarioHist.length>0){setScenarioLog(scenarioHist);setCurrentSentenceId(scenarioHist.slice(-1)[0].nextSentenceId);scrollToBottomOfList();}}else{console.log(\"DB\");//ログから会話履歴をもってくる\nfetch(\"https://jtb-prd.two-choices.jp/api/scenario/log/\",{method:'GET',headers:{'Content-Type':'application/json','Authorization':Authorization,'accesstoken':Accesstoken}}).then(function(res){return res.json();}).then(function(data){if(data.scenarioHistory.length<=0){localStorage.setItem('scenarioHist',JSON.stringify([]));return;}localStorage.setItem('scenarioHist',JSON.stringify(data.scenarioHistory));// const scenarioGet: Array<{ nextSentenceId: string, personName: string, plane: string }> = JSON.parse(localStorage.getItem('scenarioHist') as string)\nconsole.log(data.scenarioHistory);// DBから最新のIDをとってくる\n// scenarioGet.slice(-1)[0]\nconsole.log(\"休みたい\",data.scenarioHistory);setScenarioLog(data.scenarioHistory);setCurrentSentenceId(data.scenarioHistory.slice(-1)[0].nextSentenceId);scrollToBottomOfList();});}},[]);useEffect(function(){scrollToBottomOfList();},[scenarioList]);useEffect(function(){scrollToBottomOfList();},[scenarioLog]);var scrollToBottomOfList=React.useCallback(function(){ref.current.scrollIntoView({behavior:'smooth',block:'end'});},[ref]);var selectBtnText=function selectBtnText(scenarioId,planeMessage){scenarioList&&setScenarioList([].concat(_toConsumableArray(scenarioList),[{sentenceId:\"\",nextSentenceId:scenarioId,personName:\"主人公\",sentence:{plane:planeMessage,button:[{buttonLabel:\"\",nextSentenceId:\"\"},{buttonLabel:\"\",nextSentenceId:\"\"}]},reply:\"false\"}]));setCurrentSentenceId(scenarioId);var jwt=JSON.parse(localStorage.getItem('jwt'));var Authorization=jwt.Authorization,Accesstoken=jwt.Accesstoken;fetch(\"https://jtb-prd.two-choices.jp/api/scenario/log/\",{method:'POST',headers:{'Content-Type':'application/json','Authorization':Authorization,'accesstoken':Accesstoken},// body: JSON.stringify({ scenario: { personName: scenario.personName, plane: scenario.sentence.plane, nextSentenceId: scenario.nextSentenceId } })\nbody:JSON.stringify({scenario:{nextSentenceId:scenarioId,personName:\"主人公\",plane:planeMessage}})});var tmpArray=JSON.parse(localStorage.getItem('scenarioHist'));console.log(\"tmpArray:\",tmpArray);tmpArray.push({nextSentenceId:scenarioId,personName:\"主人公\",plane:planeMessage});// localStorage.setItem('scenarioHist', JSON.stringify({ personName: scenario.personName, plane: scenario.sentence.plane, nextSentenceId: scenario.nextSentenceId }))\nlocalStorage.setItem('scenarioHist',JSON.stringify(tmpArray));//性別\n// console.log(\"性別\",currentSentenceId)\nif(currentSentenceId===\"1\"){fetch(\"https://jtb-prd.two-choices.jp/api/user/\",{method:'POST',headers:{'Content-Type':'application/json','Authorization':Authorization,'accesstoken':Accesstoken},body:JSON.stringify({gender:planeMessage})});}};var handleReplyChange=function handleReplyChange(e){setReply(e.target.value);};var replyText=function replyText(id,planeMessage){scenarioList&&setScenarioList([].concat(_toConsumableArray(scenarioList),[{sentenceId:\"\",nextSentenceId:\"\",personName:\"主人公\",sentence:{plane:planeMessage,button:[{buttonLabel:\"\",nextSentenceId:\"\"},{buttonLabel:\"\",nextSentenceId:\"\"}]},reply:\"\"}]));setCurrentSentenceId(id);setIsReply(false);var jwt=JSON.parse(localStorage.getItem('jwt'));var Authorization=jwt.Authorization,Accesstoken=jwt.Accesstoken;fetch(\"https://jtb-prd.two-choices.jp/api/scenario/log/\",{method:'POST',headers:{'Content-Type':'application/json','Authorization':Authorization,'accesstoken':Accesstoken},// body: JSON.stringify({ scenario: { personName: scenario.personName, plane: scenario.sentence.plane, nextSentenceId: scenario.nextSentenceId } })\nbody:JSON.stringify({scenario:{nextSentenceId:id,personName:\"主人公\",plane:planeMessage}})});var tmpArray=JSON.parse(localStorage.getItem('scenarioHist'));console.log(\"tmpArray:\",tmpArray);// tmpArray.push({scenario: { nextSentenceId: id, personName: \"主人公\", plane: planeMessage } })\n// localStorage.setItem('scenarioHist', JSON.stringify({ personName: scenario.personName, plane: scenario.sentence.plane, nextSentenceId: scenario.nextSentenceId }))\nlocalStorage.setItem('scenarioHist',JSON.stringify(tmpArray));// }).then(res => res.json()).then(console.log)\n// scrollToBottomOfList()\n//名前\nif(currentSentenceId===\"1\"){fetch(\"https://jtb-prd.two-choices.jp/api/user/\",{method:'POST',headers:{'Content-Type':'application/json','Authorization':Authorization,'accesstoken':Accesstoken},body:JSON.stringify({name:planeMessage})});}//年齢\nif(currentSentenceId===\"3\"){fetch(\"https://jtb-prd.two-choices.jp/api/user/\",{method:'POST',headers:{'Content-Type':'application/json','Authorization':Authorization,'accesstoken':Accesstoken},body:JSON.stringify({birth:planeMessage})});}};var processScenario=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(btnId,btnLabel){var jwt,Authorization,Accesstoken;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// setCurrentSentenceId(\"0\")\n// console.log(jsonDataTest)\nconsole.log(\"currentSentenceId\",currentSentenceId);jwt=JSON.parse(localStorage.getItem('jwt'));Authorization=jwt.Authorization,Accesstoken=jwt.Accesstoken;fetch(\"https://jtb-prd.two-choices.jp/api/user/\",{method:'GET',headers:{'Content-Type':'application/json','Authorization':Authorization,'accesstoken':Accesstoken}}).then(function(res){return res.json();}).then(function(data){if(data.Item.gender===\"\"){console.log(\"1\");return;}if(data.Item.gender===undefined){console.log(\"2\");return;}// const scenarioGet: Array<{ nextSentenceId: string, personName: string, plane: string }> = JSON.parse(localStorage.getItem('scenarioHist') as string)\n// DBから最新のIDをとってくる\n// scenarioGet.slice(-1)[0]\nsetGender(data.Item.gender);});console.log(\"gender\",gender);if(localStorage.getItem('scenarioHist')){_context.next=7;break;}return _context.abrupt(\"return\");case 7:setIsButton(false);setIsReply(false);if(!(btnId!=\"\")){_context.next=13;break;}return _context.abrupt(\"return\");case 13:if(gender===\"男性です。\"){console.log(\"MM\");jsonDataMale.map(function(scenario){//次もってくる文章に合っているものを抽出\nif(scenario.sentenceId===currentSentenceId){//Filtterつかえる\n//上書き\nscenarioList?setScenarioList([].concat(_toConsumableArray(scenarioList),[_objectSpread({},scenario)]))://新規\nsetScenarioList([_objectSpread({},scenario)]);console.log(\"scenario.nextSentenceId\",scenario.nextSentenceId);console.log(\"scenario.sentence.button[0].buttonLabel\",scenario.sentence.button[0].buttonLabel);// 現在のnextSentenceIdに値が入っている場合\nif(scenario.nextSentenceId!=\"\"){setCurrentSentenceId(scenario.nextSentenceId);}//現在のsentenceにボタンが入っている場合\nif(scenario.sentence.button[0].buttonLabel!=\"\"){setIsButton(true);setBtnScenarioId_1(scenario.sentence.button[0].nextSentenceId);setBtnScenarioId_2(scenario.sentence.button[1].nextSentenceId);setBtnLabel_1(scenario.sentence.button[0].buttonLabel);setBtnLabel_2(scenario.sentence.button[1].buttonLabel);}//返信がテキストで必要な場合\nif(scenario.reply===\"true\"){setIsReply(true);}var _jwt=JSON.parse(localStorage.getItem('jwt'));var _Authorization=_jwt.Authorization,_Accesstoken=_jwt.Accesstoken;//今表示したものをDBに入れる\nfetch(\"https://jtb-prd.two-choices.jp/api/scenario/log/\",{method:'POST',headers:{'Content-Type':'application/json','Authorization':_Authorization,'accesstoken':_Accesstoken},body:JSON.stringify({scenario:{nextSentenceId:currentSentenceId,personName:scenario.personName,plane:scenario.sentence.plane}})});var tmpArray=JSON.parse(localStorage.getItem('scenarioHist'));console.log(\"tmpArray:\",tmpArray);tmpArray.push({nextSentenceId:scenario.nextSentenceId,personName:scenario.personName,plane:scenario.sentence.plane});localStorage.setItem('scenarioHist',JSON.stringify(tmpArray));}});}if(gender===\"女性です。\"){console.log(\"FF\");jsonDataFemale.map(function(scenario){//次もってくる文章に合っているものを抽出\nif(scenario.sentenceId===currentSentenceId){//Filtterつかえる\n//上書き\nscenarioList?setScenarioList([].concat(_toConsumableArray(scenarioList),[_objectSpread({},scenario)]))://新規\nsetScenarioList([_objectSpread({},scenario)]);console.log(\"scenario.nextSentenceId\",scenario.nextSentenceId);console.log(\"scenario.sentence.button[0].buttonLabel\",scenario.sentence.button[0].buttonLabel);// 現在のnextSentenceIdに値が入っている場合\nif(scenario.nextSentenceId!=\"\"){setCurrentSentenceId(scenario.nextSentenceId);}//現在のsentenceにボタンが入っている場合\nif(scenario.sentence.button[0].buttonLabel!=\"\"){setIsButton(true);setBtnScenarioId_1(scenario.sentence.button[0].nextSentenceId);setBtnScenarioId_2(scenario.sentence.button[1].nextSentenceId);setBtnLabel_1(scenario.sentence.button[0].buttonLabel);setBtnLabel_2(scenario.sentence.button[1].buttonLabel);}//返信がテキストで必要な場合\nif(scenario.reply===\"true\"){setIsReply(true);}var _jwt2=JSON.parse(localStorage.getItem('jwt'));var _Authorization2=_jwt2.Authorization,_Accesstoken2=_jwt2.Accesstoken;//今表示したものをDBに入れる\nfetch(\"https://jtb-prd.two-choices.jp/api/scenario/log/\",{method:'POST',headers:{'Content-Type':'application/json','Authorization':_Authorization2,'accesstoken':_Accesstoken2},body:JSON.stringify({scenario:{nextSentenceId:currentSentenceId,personName:scenario.personName,plane:scenario.sentence.plane}})});var tmpArray=JSON.parse(localStorage.getItem('scenarioHist'));console.log(\"tmpArray:\",tmpArray);tmpArray.push({nextSentenceId:scenario.nextSentenceId,personName:scenario.personName,plane:scenario.sentence.plane});localStorage.setItem('scenarioHist',JSON.stringify(tmpArray));}});}else{jsonDataMale.map(function(scenario){//次もってくる文章に合っているものを抽出\nif(scenario.sentenceId===currentSentenceId){//Filtterつかえる\n//上書き\nscenarioList?setScenarioList([].concat(_toConsumableArray(scenarioList),[_objectSpread({},scenario)]))://新規\nsetScenarioList([_objectSpread({},scenario)]);console.log(\"scenario.nextSentenceId\",scenario.nextSentenceId);console.log(\"scenario.sentence.button[0].buttonLabel\",scenario.sentence.button[0].buttonLabel);// 現在のnextSentenceIdに値が入っている場合\nif(scenario.nextSentenceId!=\"\"){setCurrentSentenceId(scenario.nextSentenceId);}//現在のsentenceにボタンが入っている場合\nif(scenario.sentence.button[0].buttonLabel!=\"\"){setIsButton(true);setBtnScenarioId_1(scenario.sentence.button[0].nextSentenceId);setBtnScenarioId_2(scenario.sentence.button[1].nextSentenceId);setBtnLabel_1(scenario.sentence.button[0].buttonLabel);setBtnLabel_2(scenario.sentence.button[1].buttonLabel);}//返信がテキストで必要な場合\nif(scenario.reply===\"true\"){setIsReply(true);}var _jwt3=JSON.parse(localStorage.getItem('jwt'));var _Authorization3=_jwt3.Authorization,_Accesstoken3=_jwt3.Accesstoken;//今表示したものをDBに入れる\nfetch(\"https://jtb-prd.two-choices.jp/api/scenario/log/\",{method:'POST',headers:{'Content-Type':'application/json','Authorization':_Authorization3,'accesstoken':_Accesstoken3},body:JSON.stringify({scenario:{nextSentenceId:currentSentenceId,personName:scenario.personName,plane:scenario.sentence.plane}})});var tmpArray=JSON.parse(localStorage.getItem('scenarioHist'));console.log(\"tmpArray:\",tmpArray);tmpArray.push({nextSentenceId:scenario.nextSentenceId,personName:scenario.personName,plane:scenario.sentence.plane});localStorage.setItem('scenarioHist',JSON.stringify(tmpArray));}});}if(currentSentenceId===\"1001\"){history.push(\"/summary?messageNum=1\");}if(currentSentenceId===\"1002\"){history.push(\"/summary?messageNum=2\");}if(currentSentenceId===\"1003\"){history.push(\"/summary?messageNum=3\");}if(currentSentenceId===\"1004\"){history.push(\"/summary?messageNum=4\");}case 19:case\"end\":return _context.stop();}}},_callee);}));return function processScenario(_x,_x2){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(HeaderChat,{title:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:classes.chatDesignContainer},/*#__PURE__*/React.createElement(\"div\",{className:classes.chatDesign},/*#__PURE__*/React.createElement(\"div\",{className:classes.chatDesignInner},scenarioLog&&scenarioLog.map(function(scenario){return scenario.personName==\"優花\"?/*#__PURE__*/React.createElement(\"div\",{className:classes.yukaWrapper},/*#__PURE__*/React.createElement(\"div\",{className:classes.yuka_label},\"\\u512A\\u82B1\"),/*#__PURE__*/React.createElement(List,null,/*#__PURE__*/React.createElement(ListItemAvatar,null,/*#__PURE__*/React.createElement(Avatar,{alt:\"icon\",src:userIcon})),/*#__PURE__*/React.createElement(ListItem,{className:classes.yuka},scenario.plane))):scenario.personName==\"主人公\"?/*#__PURE__*/React.createElement(\"div\",{className:classes.syujiinkoWrapper},/*#__PURE__*/React.createElement(List,null,/*#__PURE__*/React.createElement(ListItem,{className:classes.syujiinko},scenario.plane))):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(List,null,/*#__PURE__*/React.createElement(ListItem,{className:classes.narrator},scenario.plane)));}),scenarioList&&scenarioList.map(function(scenario){return scenario.personName==\"優花\"?/*#__PURE__*/React.createElement(\"div\",{className:classes.yukaWrapper},/*#__PURE__*/React.createElement(\"div\",{className:classes.yuka_label},\"\\u512A\\u82B1\"),/*#__PURE__*/React.createElement(List,null,/*#__PURE__*/React.createElement(ListItemAvatar,null,/*#__PURE__*/React.createElement(Avatar,{alt:\"icon\",src:userIcon})),/*#__PURE__*/React.createElement(ListItem,{className:classes.yuka},scenario.sentence.plane))):scenario.personName==\"主人公\"?/*#__PURE__*/React.createElement(\"div\",{className:classes.syujiinkoWrapper},/*#__PURE__*/React.createElement(List,null,/*#__PURE__*/React.createElement(ListItem,{className:classes.syujiinko},scenario.sentence.plane))):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(List,null,/*#__PURE__*/React.createElement(ListItem,{className:classes.narrator},scenario.sentence.plane)));}),/*#__PURE__*/React.createElement(\"div\",{id:\"bottom-of-list\",ref:ref})),isButton==true?/*#__PURE__*/React.createElement(\"div\",{className:classes.selectButton},/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"center\",alignItems:\"center\",spacing:0},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",disableElevation:true,onClick:function onClick(){selectBtnText(btnScenarioId_1,btnLabel_1);processScenario(btnScenarioId_1,btnLabel_1);}},btnLabel_1)),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",disableElevation:true,onClick:function onClick(){selectBtnText(btnScenarioId_2,btnLabel_2);processScenario(btnScenarioId_2,btnLabel_2);}},btnLabel_2))))// <button className={classes.buttonDesign} onClick={() => { processScenario(\"\", \"\") }}>↑</button>\n:isReply==true?/*#__PURE__*/React.createElement(\"div\",{className:classes.selectButton},/*#__PURE__*/React.createElement(\"div\",{className:classes.sendButtonContainer},/*#__PURE__*/React.createElement(\"div\",{className:classes.sendButtonWrapper},/*#__PURE__*/React.createElement(InputBase,{className:classes.input,placeholder:\"\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\",inputProps:{'aria-label':'search google maps'},onChange:function onChange(e){return handleReplyChange(e);}}),/*#__PURE__*/React.createElement(IconButton,{type:\"submit\",className:classes.iconButton,\"aria-label\":\"search\",onClick:function onClick(){return replyText(currentSentenceId,reply);}},/*#__PURE__*/React.createElement(ForwardIcon,null))))):currentSentenceId===\"5\"?/*#__PURE__*/ //東京\nReact.createElement(\"div\",{className:classes.mapLabel},\"\\u76EE\\u7684\\u5730\\u306B\\u5230\\u7740\\u3057\\u305F\\u3089\\u4E0B\\u306E\\u30DE\\u30C3\\u30D7\\u30DA\\u30FC\\u30B8\\u3067\\u30C1\\u30A7\\u30C3\\u30AF\\u30A4\\u30F3\\u3057\\u3066\\u30B7\\u30CA\\u30EA\\u30AA\\u3092\\u9032\\u3081\\u307E\\u3057\\u3087\\u3046\"):currentSentenceId===\"68\"?/*#__PURE__*/ //大谷資料館\nReact.createElement(\"div\",{className:classes.mapLabel},\"\\u76EE\\u7684\\u5730\\u306B\\u5230\\u7740\\u3057\\u305F\\u3089\\u4E0B\\u306E\\u30DE\\u30C3\\u30D7\\u30DA\\u30FC\\u30B8\\u3067\\u30C1\\u30A7\\u30C3\\u30AF\\u30A4\\u30F3\\u3057\\u3066\\u30B7\\u30CA\\u30EA\\u30AA\\u3092\\u9032\\u3081\\u307E\\u3057\\u3087\\u3046\"):currentSentenceId===\"125\"?/*#__PURE__*/ //クーリ・ルージュ\nReact.createElement(\"div\",{className:classes.mapLabel},\"\\u76EE\\u7684\\u5730\\u306B\\u5230\\u7740\\u3057\\u305F\\u3089\\u4E0B\\u306E\\u30DE\\u30C3\\u30D7\\u30DA\\u30FC\\u30B8\\u3067\\u30C1\\u30A7\\u30C3\\u30AF\\u30A4\\u30F3\\u3057\\u3066\\u30B7\\u30CA\\u30EA\\u30AA\\u3092\\u9032\\u3081\\u307E\\u3057\\u3087\\u3046\"):currentSentenceId===\"165\"?/*#__PURE__*/ //若竹\nReact.createElement(\"div\",{className:classes.mapLabel},\"\\u76EE\\u7684\\u5730\\u306B\\u5230\\u7740\\u3057\\u305F\\u3089\\u4E0B\\u306E\\u30DE\\u30C3\\u30D7\\u30DA\\u30FC\\u30B8\\u3067\\u30C1\\u30A7\\u30C3\\u30AF\\u30A4\\u30F3\\u3057\\u3066\\u30B7\\u30CA\\u30EA\\u30AA\\u3092\\u9032\\u3081\\u307E\\u3057\\u3087\\u3046\"):currentSentenceId===\"216\"?/*#__PURE__*/ //二荒山神社\nReact.createElement(\"div\",{className:classes.mapLabel},\"\\u76EE\\u7684\\u5730\\u306B\\u5230\\u7740\\u3057\\u305F\\u3089\\u4E0B\\u306E\\u30DE\\u30C3\\u30D7\\u30DA\\u30FC\\u30B8\\u3067\\u30C1\\u30A7\\u30C3\\u30AF\\u30A4\\u30F3\\u3057\\u3066\\u30B7\\u30CA\\u30EA\\u30AA\\u3092\\u9032\\u3081\\u307E\\u3057\\u3087\\u3046\"):currentSentenceId===\"308\"?/*#__PURE__*/ //二荒山神社\nReact.createElement(\"div\",{className:classes.mapLabel},\"\\u76EE\\u7684\\u5730\\u306B\\u5230\\u7740\\u3057\\u305F\\u3089\\u4E0B\\u306E\\u30DE\\u30C3\\u30D7\\u30DA\\u30FC\\u30B8\\u3067\\u30C1\\u30A7\\u30C3\\u30AF\\u30A4\\u30F3\\u3057\\u3066\\u30B7\\u30CA\\u30EA\\u30AA\\u3092\\u9032\\u3081\\u307E\\u3057\\u3087\\u3046\"):currentSentenceId===\"410\"?/*#__PURE__*/ //二荒山神社\nReact.createElement(\"div\",{className:classes.mapLabel},\"\\u76EE\\u7684\\u5730\\u306B\\u5230\\u7740\\u3057\\u305F\\u3089\\u4E0B\\u306E\\u30DE\\u30C3\\u30D7\\u30DA\\u30FC\\u30B8\\u3067\\u30C1\\u30A7\\u30C3\\u30AF\\u30A4\\u30F3\\u3057\\u3066\\u30B7\\u30CA\\u30EA\\u30AA\\u3092\\u9032\\u3081\\u307E\\u3057\\u3087\\u3046\"):currentSentenceId===\"464\"?/*#__PURE__*/ //クラッセ\nReact.createElement(\"div\",{className:classes.mapLabel},\"\\u76EE\\u7684\\u5730\\u306B\\u5230\\u7740\\u3057\\u305F\\u3089\\u4E0B\\u306E\\u30DE\\u30C3\\u30D7\\u30DA\\u30FC\\u30B8\\u3067\\u30C1\\u30A7\\u30C3\\u30AF\\u30A4\\u30F3\\u3057\\u3066\\u30B7\\u30CA\\u30EA\\u30AA\\u3092\\u9032\\u3081\\u307E\\u3057\\u3087\\u3046\"):currentSentenceId===\"546\"?/*#__PURE__*/ //SELECT\nReact.createElement(\"div\",{className:classes.mapLabel},\"\\u76EE\\u7684\\u5730\\u306B\\u5230\\u7740\\u3057\\u305F\\u3089\\u4E0B\\u306E\\u30DE\\u30C3\\u30D7\\u30DA\\u30FC\\u30B8\\u3067\\u30C1\\u30A7\\u30C3\\u30AF\\u30A4\\u30F3\\u3057\\u3066\\u30B7\\u30CA\\u30EA\\u30AA\\u3092\\u9032\\u3081\\u307E\\u3057\\u3087\\u3046\"):currentSentenceId===\"625\"?/*#__PURE__*/ //最上\nReact.createElement(\"div\",{className:classes.mapLabel},\"\\u76EE\\u7684\\u5730\\u306B\\u5230\\u7740\\u3057\\u305F\\u3089\\u4E0B\\u306E\\u30DE\\u30C3\\u30D7\\u30DA\\u30FC\\u30B8\\u3067\\u30C1\\u30A7\\u30C3\\u30AF\\u30A4\\u30F3\\u3057\\u3066\\u30B7\\u30CA\\u30EA\\u30AA\\u3092\\u9032\\u3081\\u307E\\u3057\\u3087\\u3046\"):currentSentenceId===\"672\"?/*#__PURE__*/ //森林公園\nReact.createElement(\"div\",{className:classes.mapLabel},\"\\u76EE\\u7684\\u5730\\u306B\\u5230\\u7740\\u3057\\u305F\\u3089\\u4E0B\\u306E\\u30DE\\u30C3\\u30D7\\u30DA\\u30FC\\u30B8\\u3067\\u30C1\\u30A7\\u30C3\\u30AF\\u30A4\\u30F3\\u3057\\u3066\\u30B7\\u30CA\\u30EA\\u30AA\\u3092\\u9032\\u3081\\u307E\\u3057\\u3087\\u3046\"):currentSentenceId===\"730\"?/*#__PURE__*/ //森林公園\nReact.createElement(\"div\",{className:classes.mapLabel},\"\\u76EE\\u7684\\u5730\\u306B\\u5230\\u7740\\u3057\\u305F\\u3089\\u4E0B\\u306E\\u30DE\\u30C3\\u30D7\\u30DA\\u30FC\\u30B8\\u3067\\u30C1\\u30A7\\u30C3\\u30AF\\u30A4\\u30F3\\u3057\\u3066\\u30B7\\u30CA\\u30EA\\u30AA\\u3092\\u9032\\u3081\\u307E\\u3057\\u3087\\u3046\"):/*#__PURE__*/React.createElement(\"img\",{className:classes.buttonDesign,src:Tap,onClick:function onClick(){processScenario(\"\",\"\");}})// <button className={classes.buttonDesign} onClick={() => { processScenario(\"\", \"\") }}>↑</button>\n,/*#__PURE__*/React.createElement(BottomTab,null))));};export default Chat;","map":{"version":3,"sources":["/Users/rei.kawasato/Desktop/travel/src/pages/chat.tsx"],"names":["React","useEffect","useState","useRef","makeStyles","Grid","Button","ListItemAvatar","Avatar","List","ListItem","useReactRouter","HeaderChat","userIcon","jsonDataMale","jsonDataFemale","InputBase","IconButton","ForwardIcon","UserIcon","require","TabChatOn","TabMapOff","Tap","headerHeight","ContentBodyHeight","selectButtonRadius","baseFontColor","textInputBgColor","useStyles","theme","chatDesignContainer","display","position","width","height","flexDirection","justifyContent","alignItems","paddingTop","paddingBottom","chatDesign","backgroundColor","overflow","padding","chatDesignInner","maxWidth","buttonDesign","bottom","borderRadius","color","fontFamily","selectButton","minHeight","justifyItems","textAlign","boxShadow","border","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","narrator","marginTop","yukaWrapper","minWidth","yuka","palette","background","paper","borderColor","yuka_label","fontSize","marginBottom","marginLeft","syujiinkoWrapper","syujiinko","avatar","square","bottomTab","bottomChat","flex","bottomMap","mapLabel","fontWeight","letterSpacing","sendButtonContainer","sendButtonWrapper","paddingLeft","input","spacing","iconButton","currentSentenceIdInit","genderInit","spotIdInit","spotNameInit","scenarioListInit","sentenceId","nextSentenceId","personName","sentence","plane","button","buttonLabel","reply","isButtonInit","isReplyInit","isBtnLabelInit_1","isBtnLabelInit_2","isBtnScenarioIdInit_1","isBtnScenarioIdInit_2","BottomTab","history","classes","push","btn1","Chat","jsonData","setJsonData","scenarioList","setScenarioList","scenarioLog","setScenarioLog","currentSentenceId","setCurrentSentenceId","isButton","setIsButton","isReply","setIsReply","btnLabel_1","setBtnLabel_1","btnLabel_2","setBtnLabel_2","btnScenarioId_1","setBtnScenarioId_1","btnScenarioId_2","setBtnScenarioId_2","btnText","setBtnText","gender","setGender","setReply","isFirstRender","ref","jwt","JSON","parse","localStorage","getItem","Authorization","Accesstoken","scenarioHistString","console","log","scenarioHist","length","slice","scrollToBottomOfList","fetch","method","headers","then","res","json","data","scenarioHistory","setItem","stringify","useCallback","current","scrollIntoView","behavior","block","selectBtnText","scenarioId","planeMessage","body","scenario","tmpArray","handleReplyChange","e","target","value","replyText","id","name","birth","processScenario","btnId","btnLabel","Item","undefined","map"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from 'react'\nimport { Typography, makeStyles, TextField, Grid, Box, Button, ListItemAvatar, Avatar, List } from '@material-ui/core'\nimport ListItem from '@material-ui/core/ListItem';\nimport useReactRouter from 'use-react-router';\n// import classes from '*.module.css';\nimport Header from './header';\nimport HeaderChat from './headerChat';\nimport GoogleMapAPI from '../utils/googleMapAPI';\nimport Footer from './footer';\nimport SelectInput from '@material-ui/core/Select/SelectInput';\nimport axios, { AxiosResponse } from 'axios';\nimport { Data, GoogleMap } from '@react-google-maps/api';\nimport userIcon from '../assets/avatarWomen.png';\nimport { Label } from '@material-ui/icons';\nimport jsonDataMale from '../utils/db2.json';\nimport jsonDataFemale from '../utils/db_f.json';\nimport InputBase from \"@material-ui/core/InputBase\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ForwardIcon from '@material-ui/icons/Forward';\n\nconst UserIcon = require('../assets/test.png');\nconst TabChatOn = require('../assets/TabChatOn.png');\nconst TabMapOff = require('../assets/TabMapOff.png');\nconst Tap = require('../assets/Tap.png');\n\n\nconst headerHeight = '44px';\nconst ContentBodyHeight = `calc(100vh - ${headerHeight})`;\nconst selectButtonRadius = '18px';\nconst baseFontColor = '#4575b4';\nconst textInputBgColor = '#fefffe';\n\nconst useStyles = makeStyles((theme) => ({\n    chatDesignContainer: {\n        display: \"flex\",\n        position: \"relative\",\n        width: \"100%\",\n        // height: '100vh',\n        // height: 'calc(100vh - 200px)',\n        height: ContentBodyHeight,\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n        paddingTop: headerHeight,\n        paddingBottom: '156px',\n        // paddingBottom: isButton ? '156px' : 'calc(10% + 1rem)',\n        // paddingBottom: 'calc(20% + 1rem)',\n    },\n    chatDesign: {\n        display: 'flex',\n        justifyContent: 'center',\n        position: \"relative\",\n        width: \"100%\",\n        backgroundColor: \"#EFEDE9\",\n        // top: \"10%\",\n        // paddingTop: headerHeight,\n        paddingBottom: \"291px\",\n        overflow: \"auto\",\n        '& .MuiList-padding': {\n            display: 'flex',\n            justifyContent: 'center',\n            padding: '0.5rem 1rem',\n        }\n    },\n    chatDesignInner: {\n        position: \"relative\",\n        width: \"100%\",\n        maxWidth: '390px',\n        height: ContentBodyHeight,\n    },\n    buttonDesign: {\n        bottom: \"30%\",\n        position: \"fixed\",\n        borderRadius: \"50%\",\n        // backgroundColor: \"blue\",\n        color: \"white\",\n        // zIndex:100,\n        // marginLeft: \"40%\",\n        fontFamily: 'メイリオ',\n        // cursor: \"pointer\",\n    },\n    selectButton: {\n        width: \"100%\",\n        minHeight: '10%',\n        // height: '10%',\n        justifyItems: 'center',\n        textAlign: 'center',\n        padding: '0.5rem 0',\n        position: 'fixed',\n        bottom: \"10%\",\n        backgroundColor: '#EFEDE9',\n        boxShadow: 'inset 0 -0.5px 0 0 rgba(0, 0, 0, 0.2)',\n        '& .MuiButton-label': {\n            color: baseFontColor,\n        },\n        '& .MuiButton-disableElevation': {\n            width: '100%',\n            maxWidth: '326px',\n            height: '100%',\n            minHeight: headerHeight,\n            border: '1px solid #cdcdcd',\n            backgroundColor: '#FFFFFF',\n        },\n        '& .MuiGrid-grid-xs-12:nth-of-type(1)': {\n            '& button': {\n                borderTopLeftRadius: selectButtonRadius,\n                borderTopRightRadius: selectButtonRadius,\n            },\n        },\n        '& .MuiGrid-grid-xs-12:nth-of-type(2)': {\n            '& button': {\n                borderBottomLeftRadius: selectButtonRadius,\n                borderBottomRightRadius: selectButtonRadius,\n            },\n        },\n    },\n    narrator: {\n        fontFamily: 'メイリオ',\n        // fontSize: 20,\n        display: 'flex',\n        alignItems: 'flex-start',//縦\n        textAlign: 'left',//横\n        backgroundColor: '#efdcc9',\n        color: \"#994C00\",\n        borderRadius: 16,\n        width: '100%',\n        maxWidth: '390px',\n        marginTop: 20,\n        justifyContent: 'flex-start',\n        // marginLeft: '15%',\n        padding: '1rem',\n        // position:'relative',\n    },\n    yukaWrapper: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n        alignItems: 'flex-start',\n        '& .MuiListItemAvatar-root': {\n            minWidth: '40px',\n        },\n        '& .MuiAvatar-root': {\n            width: '31px',\n            height: '31px',\n        }\n    },\n    yuka: {\n        fontFamily: 'メイリオ',\n        width: '100%',\n        maxWidth: '25ch',\n        backgroundColor: theme.palette.background.paper,\n        borderRadius: 17.5,\n        borderColor: 'blue',\n        padding: 10,\n    },\n    yuka_label: {\n        fontSize: 15,\n        marginBottom: '0%',\n        marginLeft: '15%',\n        marginTop: '0.5rem',\n    },\n    syujiinkoWrapper: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n        alignItems: 'flex-end',\n    },\n    syujiinko: {\n        fontFamily: 'メイリオ',\n        border: '1px solid #bfc8d5',\n        color: '#7088b1',\n        borderRadius: 17.5,\n        backgroundColor: '#e2e3e4',\n        width: 'auto',\n        maxWidth: '27ch',\n        padding: 10,\n    },\n    avatar: {\n        // padding: 10,\n        marginLeft: 50,\n    },\n    square: {\n        width: \"100%\",\n        height: \"900px\",\n        // margin:'0',\n        backgroundColor: \"#eeedea\",\n    },\n    bottomTab: {\n        position: \"fixed\",\n        bottom: \"0\",\n        height: \"10%\",\n        width: \"100%\",\n        backgroundColor: \"#eeedea\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        textAlign: \"center\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    },\n    bottomChat: {\n        // border: \"2px solid\",\n        // borderColor: \"pink\",\n        flex: 1,\n    },\n    bottomMap: {\n        // border: \"2px solid\",\n        // borderColor: \"pink\",\n        flex: 1,\n    },\n    mapLabel: {\n        color: baseFontColor,\n        fontWeight: 'bold',\n        fontSize: '14px',\n        letterSpacing: '-0.32px',\n        textAlign: 'center',\n        bottom: \"13%\",\n        position: \"fixed\",\n        borderRadius: \"50%\",\n        // backgroundColor: \"blue\",\n        // zIndex:100,\n        // marginLeft: \"40%\",\n        fontFamily: 'メイリオ',\n        // cursor: \"pointer\",\n    },\n    sendButtonContainer: {\n        display: 'flex',\n        justifyContent: \"center\",\n        alignItems: 'center',\n        width: '100%',\n        padding: '0 1rem',\n    },\n    sendButtonWrapper: {\n        paddingLeft: '0.5rem',\n        display: 'flex',\n        alignItems: 'center',\n        width: '100%',\n        maxWidth: '390px',\n        backgroundColor: textInputBgColor,\n        border: '1px solid #c4c4c6',\n        borderRadius: selectButtonRadius,\n    },\n    input: {\n        marginLeft: theme.spacing(1),\n        flex: 1,\n    },\n    iconButton: {\n        padding: 10,\n    },\n}))\n\ntype JsonData = {\n    sentenceId: string\n    nextSentenceId: string\n    personName: string\n    sentence: {\n        plane: string,\n        button: Array<{\n            buttonLabel: string,\n            nextSentenceId: string\n        }>\n    }\n    reply: string\n}\ntype LogData = {\n    // id: string\n    personName: string\n    plane: string,\n\n}\n\n\nconst currentSentenceIdInit: string = \"0\"\nconst genderInit: string = \"0\"\nconst spotIdInit: string = \"A\"\nconst spotNameInit: string = \"大谷資料館\"\nconst scenarioListInit = [\n    {\n        sentenceId: \"0\",\n        nextSentenceId: \"1\",\n        personName: \"優花\",\n        sentence: {\n            plane: \"初期値消したい\",\n            button: [\n                {\n                    buttonLabel: \"海外強度料理にしよう\",\n                    nextSentenceId: \"21\"\n                },\n                {\n                    buttonLabel: \"お蕎麦屋さんにしよう\",\n                    nextSentenceId: \"22\"\n                }\n            ],\n        },\n        reply: \"true\"\n    }\n]\n\nconst isButtonInit = false\nconst isReplyInit = false\nconst isBtnLabelInit_1 = \"\"\nconst isBtnLabelInit_2 = \"\"\nconst isBtnScenarioIdInit_1 = \"\"\nconst isBtnScenarioIdInit_2 = \"\"\n\nconst BottomTab: React.FC = () => {\n    const { history } = useReactRouter();\n    const classes = useStyles()\n    return (\n\n        <div className={classes.bottomTab}>\n            <div className={classes.bottomChat}>\n\n                <img src={TabChatOn} />\n                <div>\n                    チャット\n                </div>\n            </div>\n            <div className={classes.bottomMap} onClick={() => history.push(\"/map\")}>\n\n                <img src={TabMapOff} />\n                <div>\n                    マップ\n                </div>\n            </div>\n        </div>\n    )\n}\n\nvar btn1: string = \"\"\nconst Chat: React.FC = () => {\n\n    const { history } = useReactRouter();\n    const classes = useStyles()\n    const [jsonData, setJsonData] = useState<JsonData[]>()\n    const [scenarioList, setScenarioList] = useState<JsonData[]>()\n    const [scenarioLog, setScenarioLog] = useState<LogData[]>()\n    const [currentSentenceId, setCurrentSentenceId] = useState(currentSentenceIdInit);\n    const [isButton, setIsButton] = useState(isButtonInit)\n    const [isReply, setIsReply] = useState(isReplyInit)\n    const [btnLabel_1, setBtnLabel_1] = useState(isBtnLabelInit_1)\n    const [btnLabel_2, setBtnLabel_2] = useState(isBtnLabelInit_2)\n    const [btnScenarioId_1, setBtnScenarioId_1] = useState(isBtnScenarioIdInit_1)\n    const [btnScenarioId_2, setBtnScenarioId_2] = useState(isBtnScenarioIdInit_2)\n    const [btnText, setBtnText] = useState(\"\")\n    const [gender, setGender] = useState(\"\")\n    const [reply, setReply] = useState(\"\")\n    const isFirstRender = useRef(false)\n\n\n    const ref = useRef<any>(null)\n\n    useEffect(() => {\n\n        const jwt = JSON.parse(localStorage.getItem('jwt') as string)\n        const { Authorization, Accesstoken } = jwt\n        const scenarioHistString: string | null = localStorage.getItem('scenarioHist')\n        // const scenarioHist: string<{ nextSentenceId: string, personName: string, plane: string }> = localStorage.getItem('scenarioHist')\n        // const { personName, plane } = scenarioHist\n\n        console.log(scenarioHistString)\n\n\n\n        // console.log(\"3\")\n        if (scenarioHistString) {\n            console.log(\"Localstorage\")\n            const scenarioHist: Array<{ nextSentenceId: string, personName: string, plane: string }> = JSON.parse(scenarioHistString)\n            if (scenarioHist.length > 0) {\n\n                setScenarioLog(scenarioHist)\n                setCurrentSentenceId(scenarioHist.slice(-1)[0].nextSentenceId)\n                scrollToBottomOfList()\n            }\n        } else {\n            console.log(\"DB\")\n\n            //ログから会話履歴をもってくる\n\n            fetch(\"https://jtb-prd.two-choices.jp/api/scenario/log/\", {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': Authorization,\n                    'accesstoken': Accesstoken\n                },\n            }).then(res => res.json()).then(data => {\n\n\n\n                if (data.scenarioHistory.length <= 0) {\n\n                    localStorage.setItem('scenarioHist', JSON.stringify([]))\n                    return\n                }\n                localStorage.setItem('scenarioHist', JSON.stringify(data.scenarioHistory))\n                // const scenarioGet: Array<{ nextSentenceId: string, personName: string, plane: string }> = JSON.parse(localStorage.getItem('scenarioHist') as string)\n                console.log(data.scenarioHistory)\n\n                // DBから最新のIDをとってくる\n                // scenarioGet.slice(-1)[0]\n                console.log(\"休みたい\",data.scenarioHistory)\n                setScenarioLog(data.scenarioHistory)\n                setCurrentSentenceId(data.scenarioHistory.slice(-1)[0].nextSentenceId)\n                scrollToBottomOfList()\n\n\n            })\n        }\n    }, [])\n\n    useEffect(() => {\n        scrollToBottomOfList()\n    }, [scenarioList])\n\n\n    useEffect(() => {\n        scrollToBottomOfList()\n    }, [scenarioLog])\n\n\n    const scrollToBottomOfList = React.useCallback(() => {\n        ref!.current!.scrollIntoView({\n            behavior: 'smooth',\n            block: 'end',\n        })\n    }, [ref])\n\n    const selectBtnText = (scenarioId: string, planeMessage: string) => {\n        scenarioList && setScenarioList([...scenarioList, {\n            sentenceId: \"\",\n            nextSentenceId: scenarioId,\n            personName: \"主人公\",\n            sentence: {\n                plane: planeMessage,\n                button: [\n                    {\n                        buttonLabel: \"\",\n                        nextSentenceId: \"\"\n                    },\n                    {\n                        buttonLabel: \"\",\n                        nextSentenceId: \"\"\n                    }\n                ]\n            },\n            reply: \"false\"\n        }])\n        setCurrentSentenceId(scenarioId)\n        const jwt = JSON.parse(localStorage.getItem('jwt') as string)\n        const { Authorization, Accesstoken } = jwt\n        fetch(\"https://jtb-prd.two-choices.jp/api/scenario/log/\", {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': Authorization,\n                'accesstoken': Accesstoken\n            },\n            // body: JSON.stringify({ scenario: { personName: scenario.personName, plane: scenario.sentence.plane, nextSentenceId: scenario.nextSentenceId } })\n            body: JSON.stringify({ scenario: { nextSentenceId: scenarioId, personName: \"主人公\", plane: planeMessage } })\n        })\n        const tmpArray = JSON.parse(localStorage.getItem('scenarioHist') as string)\n        console.log(\"tmpArray:\", tmpArray)\n        tmpArray.push({ nextSentenceId: scenarioId, personName: \"主人公\", plane: planeMessage })\n        // localStorage.setItem('scenarioHist', JSON.stringify({ personName: scenario.personName, plane: scenario.sentence.plane, nextSentenceId: scenario.nextSentenceId }))\n        localStorage.setItem('scenarioHist', JSON.stringify(tmpArray))\n\n        //性別\n        // console.log(\"性別\",currentSentenceId)\n        if (currentSentenceId === \"1\") {\n            fetch(\"https://jtb-prd.two-choices.jp/api/user/\", {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': Authorization,\n                    'accesstoken': Accesstoken\n                },\n                body: JSON.stringify({ gender: planeMessage })\n            })\n        }\n    }\n\n\n    const handleReplyChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setReply(e.target.value)\n    }\n\n    const replyText = (id: string, planeMessage: string) => {\n\n        scenarioList && setScenarioList([...scenarioList, {\n            sentenceId: \"\",\n            nextSentenceId: \"\",\n            personName: \"主人公\",\n            sentence: {\n                plane: planeMessage,\n                button: [\n                    {\n                        buttonLabel: \"\",\n                        nextSentenceId: \"\"\n                    },\n                    {\n                        buttonLabel: \"\",\n                        nextSentenceId: \"\"\n                    }\n                ]\n            },\n            reply: \"\"\n        }])\n        setCurrentSentenceId(id)\n        setIsReply(false)\n        const jwt = JSON.parse(localStorage.getItem('jwt') as string)\n        const { Authorization, Accesstoken } = jwt\n        fetch(\"https://jtb-prd.two-choices.jp/api/scenario/log/\", {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': Authorization,\n                'accesstoken': Accesstoken\n            },\n            // body: JSON.stringify({ scenario: { personName: scenario.personName, plane: scenario.sentence.plane, nextSentenceId: scenario.nextSentenceId } })\n            body: JSON.stringify({ scenario: { nextSentenceId: id, personName: \"主人公\", plane: planeMessage } })\n        })\n        const tmpArray = JSON.parse(localStorage.getItem('scenarioHist') as string)\n        console.log(\"tmpArray:\", tmpArray)\n        // tmpArray.push({scenario: { nextSentenceId: id, personName: \"主人公\", plane: planeMessage } })\n        // localStorage.setItem('scenarioHist', JSON.stringify({ personName: scenario.personName, plane: scenario.sentence.plane, nextSentenceId: scenario.nextSentenceId }))\n        localStorage.setItem('scenarioHist', JSON.stringify(tmpArray))\n        // }).then(res => res.json()).then(console.log)\n        // scrollToBottomOfList()\n\n\n        //名前\n        if (currentSentenceId === \"1\") {\n            fetch(\"https://jtb-prd.two-choices.jp/api/user/\", {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': Authorization,\n                    'accesstoken': Accesstoken\n                },\n                body: JSON.stringify({ name: planeMessage })\n            })\n        }\n        //年齢\n        if (currentSentenceId === \"3\") {\n            fetch(\"https://jtb-prd.two-choices.jp/api/user/\", {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': Authorization,\n                    'accesstoken': Accesstoken\n                },\n                body: JSON.stringify({ birth: planeMessage })\n            })\n        }\n    }\n    const processScenario = async (btnId: string, btnLabel: string) => {\n        // setCurrentSentenceId(\"0\")\n        // console.log(jsonDataTest)\n        console.log(\"currentSentenceId\",currentSentenceId)\n        const jwt = JSON.parse(localStorage.getItem('jwt') as string)\n        const { Authorization, Accesstoken } = jwt\n        fetch(\"https://jtb-prd.two-choices.jp/api/user/\", {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': Authorization,\n                'accesstoken': Accesstoken\n            },\n        }).then(res => res.json()).then(data => {\n\n\n\n            if (data.Item.gender === \"\") {\n                console.log(\"1\")\n\n                return\n            }\n            if (data.Item.gender === undefined) {\n\n                console.log(\"2\")\n                return\n            }\n            // const scenarioGet: Array<{ nextSentenceId: string, personName: string, plane: string }> = JSON.parse(localStorage.getItem('scenarioHist') as string)\n\n            // DBから最新のIDをとってくる\n            // scenarioGet.slice(-1)[0]\n            setGender(data.Item.gender)\n\n        })\n        console.log(\"gender\", gender)\n        if (!localStorage.getItem('scenarioHist')) return\n\n        setIsButton(false)\n        setIsReply(false)\n        if (btnId != \"\") {\n            return\n        } else {\n\n            if (gender === \"男性です。\") {\n                console.log(\"MM\")\n                jsonDataMale.map((scenario: any) => {\n                    //次もってくる文章に合っているものを抽出\n                    if (scenario.sentenceId === currentSentenceId) { //Filtterつかえる\n                        //上書き\n                        scenarioList ? setScenarioList([...scenarioList,\n                        { ...scenario }\n                        ]) :\n                            //新規\n                            setScenarioList([\n                                { ...scenario }\n\n                            ])\n                        console.log(\"scenario.nextSentenceId\", scenario.nextSentenceId)\n                        console.log(\"scenario.sentence.button[0].buttonLabel\", scenario.sentence.button[0].buttonLabel)\n                        // 現在のnextSentenceIdに値が入っている場合\n                        if (scenario.nextSentenceId != \"\") {\n                            setCurrentSentenceId(scenario.nextSentenceId)\n                        }\n                        //現在のsentenceにボタンが入っている場合\n                        if (scenario.sentence.button[0].buttonLabel != \"\") {\n                            setIsButton(true)\n                            setBtnScenarioId_1(scenario.sentence.button[0].nextSentenceId)\n                            setBtnScenarioId_2(scenario.sentence.button[1].nextSentenceId)\n                            setBtnLabel_1(scenario.sentence.button[0].buttonLabel)\n                            setBtnLabel_2(scenario.sentence.button[1].buttonLabel)\n                        }\n                        //返信がテキストで必要な場合\n                        if (scenario.reply === \"true\") {\n                            setIsReply(true)\n                        }\n                        const jwt = JSON.parse(localStorage.getItem('jwt') as string)\n                        const { Authorization, Accesstoken } = jwt\n\n                        //今表示したものをDBに入れる\n                        fetch(\"https://jtb-prd.two-choices.jp/api/scenario/log/\", {\n                            method: 'POST',\n                            headers: {\n                                'Content-Type': 'application/json',\n                                'Authorization': Authorization,\n                                'accesstoken': Accesstoken\n                            },\n                            body: JSON.stringify({ scenario: { nextSentenceId: currentSentenceId, personName: scenario.personName, plane: scenario.sentence.plane } })\n                        })\n                        const tmpArray = JSON.parse(localStorage.getItem('scenarioHist') as string)\n                        console.log(\"tmpArray:\", tmpArray)\n                        tmpArray.push({ nextSentenceId: scenario.nextSentenceId, personName: scenario.personName, plane: scenario.sentence.plane })\n                        localStorage.setItem('scenarioHist', JSON.stringify(tmpArray))\n                    }\n                })\n\n            }\n            if (gender === \"女性です。\") {\n                console.log(\"FF\")\n                jsonDataFemale.map((scenario: any) => {\n                    //次もってくる文章に合っているものを抽出\n                    if (scenario.sentenceId === currentSentenceId) { //Filtterつかえる\n                        //上書き\n                        scenarioList ? setScenarioList([...scenarioList,\n                        { ...scenario }\n                        ]) :\n                            //新規\n                            setScenarioList([\n                                { ...scenario }\n\n                            ])\n                        console.log(\"scenario.nextSentenceId\", scenario.nextSentenceId)\n                        console.log(\"scenario.sentence.button[0].buttonLabel\", scenario.sentence.button[0].buttonLabel)\n                        // 現在のnextSentenceIdに値が入っている場合\n                        if (scenario.nextSentenceId != \"\") {\n                            setCurrentSentenceId(scenario.nextSentenceId)\n                        }\n                        //現在のsentenceにボタンが入っている場合\n                        if (scenario.sentence.button[0].buttonLabel != \"\") {\n                            setIsButton(true)\n                            setBtnScenarioId_1(scenario.sentence.button[0].nextSentenceId)\n                            setBtnScenarioId_2(scenario.sentence.button[1].nextSentenceId)\n                            setBtnLabel_1(scenario.sentence.button[0].buttonLabel)\n                            setBtnLabel_2(scenario.sentence.button[1].buttonLabel)\n                        }\n                        //返信がテキストで必要な場合\n                        if (scenario.reply === \"true\") {\n                            setIsReply(true)\n                        }\n                        const jwt = JSON.parse(localStorage.getItem('jwt') as string)\n                        const { Authorization, Accesstoken } = jwt\n\n                        //今表示したものをDBに入れる\n                        fetch(\"https://jtb-prd.two-choices.jp/api/scenario/log/\", {\n                            method: 'POST',\n                            headers: {\n                                'Content-Type': 'application/json',\n                                'Authorization': Authorization,\n                                'accesstoken': Accesstoken\n                            },\n                            body: JSON.stringify({ scenario: { nextSentenceId: currentSentenceId, personName: scenario.personName, plane: scenario.sentence.plane } })\n                        })\n                        const tmpArray = JSON.parse(localStorage.getItem('scenarioHist') as string)\n                        console.log(\"tmpArray:\", tmpArray)\n                        tmpArray.push({ nextSentenceId: scenario.nextSentenceId, personName: scenario.personName, plane: scenario.sentence.plane })\n                        localStorage.setItem('scenarioHist', JSON.stringify(tmpArray))\n                    }\n                })\n\n            } else {\n                jsonDataMale.map((scenario: any) => {\n                    //次もってくる文章に合っているものを抽出\n                    if (scenario.sentenceId === currentSentenceId) { //Filtterつかえる\n                        //上書き\n                        scenarioList ? setScenarioList([...scenarioList,\n                        { ...scenario }\n                        ]) :\n                            //新規\n                            setScenarioList([\n                                { ...scenario }\n\n                            ])\n                        console.log(\"scenario.nextSentenceId\", scenario.nextSentenceId)\n                        console.log(\"scenario.sentence.button[0].buttonLabel\", scenario.sentence.button[0].buttonLabel)\n                        // 現在のnextSentenceIdに値が入っている場合\n                        if (scenario.nextSentenceId != \"\") {\n                            setCurrentSentenceId(scenario.nextSentenceId)\n                        }\n                        //現在のsentenceにボタンが入っている場合\n                        if (scenario.sentence.button[0].buttonLabel != \"\") {\n                            setIsButton(true)\n                            setBtnScenarioId_1(scenario.sentence.button[0].nextSentenceId)\n                            setBtnScenarioId_2(scenario.sentence.button[1].nextSentenceId)\n                            setBtnLabel_1(scenario.sentence.button[0].buttonLabel)\n                            setBtnLabel_2(scenario.sentence.button[1].buttonLabel)\n                        }\n                        //返信がテキストで必要な場合\n                        if (scenario.reply === \"true\") {\n                            setIsReply(true)\n                        }\n                        const jwt = JSON.parse(localStorage.getItem('jwt') as string)\n                        const { Authorization, Accesstoken } = jwt\n\n                        //今表示したものをDBに入れる\n                        fetch(\"https://jtb-prd.two-choices.jp/api/scenario/log/\", {\n                            method: 'POST',\n                            headers: {\n                                'Content-Type': 'application/json',\n                                'Authorization': Authorization,\n                                'accesstoken': Accesstoken\n                            },\n                            body: JSON.stringify({ scenario: { nextSentenceId: currentSentenceId, personName: scenario.personName, plane: scenario.sentence.plane } })\n                        })\n                        const tmpArray = JSON.parse(localStorage.getItem('scenarioHist') as string)\n                        console.log(\"tmpArray:\", tmpArray)\n                        tmpArray.push({ nextSentenceId: scenario.nextSentenceId, personName: scenario.personName, plane: scenario.sentence.plane })\n                        localStorage.setItem('scenarioHist', JSON.stringify(tmpArray))\n                    }\n                })\n            }\n\n\n\n\n\n            if (currentSentenceId === \"1001\") {\n                history.push(`/summary?messageNum=1`)\n\n            }\n            if (currentSentenceId === \"1002\") {\n                history.push(`/summary?messageNum=2`)\n\n            }\n            if (currentSentenceId === \"1003\") {\n                history.push(`/summary?messageNum=3`)\n\n            }\n            if (currentSentenceId === \"1004\") {\n                history.push(`/summary?messageNum=4`)\n\n            }\n        }\n    }\n\n    return (\n        <div>\n\n            <HeaderChat title=\"\" />\n\n            <div className={classes.chatDesignContainer}>\n                <div className={classes.chatDesign}>\n                    <div className={classes.chatDesignInner}>\n                        {scenarioLog && scenarioLog.map((scenario: any) => scenario.personName == \"優花\" ?\n                            <div className={classes.yukaWrapper}>\n                                <div className={classes.yuka_label}>優花</div>\n\n                                <List>\n                                    <ListItemAvatar>\n                                        <Avatar alt=\"icon\" src={userIcon} />\n                                    </ListItemAvatar>\n                                    <ListItem className={classes.yuka}>{scenario.plane}</ListItem>\n                                </List>\n                            </div>\n                            : scenario.personName == \"主人公\" ?\n                                <div className={classes.syujiinkoWrapper}>\n                                    <List>\n                                        <ListItem className={classes.syujiinko}>{scenario.plane}</ListItem>\n                                    </List>\n                                </div>\n                                :\n                                <div>\n                                    <List>\n                                        <ListItem className={classes.narrator}>{scenario.plane}</ListItem>\n                                    </List>\n                                </div>\n                        )}\n                        {scenarioList && scenarioList.map((scenario: any) => scenario.personName == \"優花\" ?\n                            <div className={classes.yukaWrapper}>\n                                <div className={classes.yuka_label}>優花</div>\n\n                                <List>\n                                    <ListItemAvatar>\n                                        <Avatar alt=\"icon\" src={userIcon} />\n                                    </ListItemAvatar>\n                                    <ListItem className={classes.yuka}>{scenario.sentence.plane}</ListItem>\n                                </List>\n                            </div>\n                            : scenario.personName == \"主人公\" ?\n                                <div className={classes.syujiinkoWrapper}>\n                                    <List>\n                                        <ListItem className={classes.syujiinko}>{scenario.sentence.plane}</ListItem>\n                                    </List>\n                                </div>\n                                :\n                                <div>\n                                    <List>\n                                        <ListItem className={classes.narrator}>{scenario.sentence.plane}</ListItem>\n                                    </List>\n                                </div>\n                        )}\n\n\n\n\n                        <div id=\"bottom-of-list\" ref={ref} />\n                    </div>\n                    {isButton == true ?\n                        <div className={classes.selectButton}>\n                            <Grid container justify=\"center\" alignItems=\"center\" spacing={0}>\n                                <Grid item xs={12}>\n                                    <Button\n                                        variant=\"contained\"\n                                        disableElevation\n                                        onClick={() => {\n                                            selectBtnText(btnScenarioId_1, btnLabel_1)\n                                            processScenario(btnScenarioId_1, btnLabel_1)\n                                        }}\n                                    >\n                                        {btnLabel_1}\n                                    </Button>\n\n                                </Grid>\n                                <Grid item xs={12}>\n                                    <Button\n                                        variant=\"contained\"\n                                        disableElevation\n                                        onClick={() => {\n                                            selectBtnText(btnScenarioId_2, btnLabel_2)\n                                            processScenario(btnScenarioId_2, btnLabel_2)\n                                        }}\n                                    >\n                                        {btnLabel_2}\n                                    </Button>\n\n                                </Grid>\n                            </Grid>\n                            {/* <button onClick={() => {\n                            selectBtnText(btnScenarioId_1, btnLabel_1)\n                            processScenario(btnScenarioId_1, btnLabel_1)\n                        }}>{btnLabel_1}</button>\n                        <button onClick={() => {\n                            selectBtnText(btnScenarioId_2, btnLabel_2)\n                            processScenario(btnScenarioId_2, btnLabel_2)\n                        }}>{btnLabel_2}</button> */}\n                        </div>\n\n                        // <button className={classes.buttonDesign} onClick={() => { processScenario(\"\", \"\") }}>↑</button>\n                        : isReply == true ?\n                            <div className={classes.selectButton}>\n                                <div className={classes.sendButtonContainer}>\n                                    <div className={classes.sendButtonWrapper}>\n                                        <InputBase\n                                            className={classes.input}\n                                            placeholder=\"入力してください\"\n                                            inputProps={{ 'aria-label': 'search google maps' }}\n                                            onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n                                                handleReplyChange(e)}\n                                        />\n                                        <IconButton\n                                            type=\"submit\"\n                                            className={classes.iconButton}\n                                            aria-label=\"search\"\n                                            onClick={() => replyText(currentSentenceId, reply)}\n                                        >\n                                            <ForwardIcon />\n                                        </IconButton>\n                                    </div>\n                                </div>\n                                {/*<Grid container justify=\"center\" alignItems=\"center\">*/}\n                                {/*<Grid item xs={10} className={classes.sendButtonWrapper}>*/}\n                                {/*<TextField id=\"standard-basic\" label=\"入力してください\" onChange={(e: React.ChangeEvent<HTMLInputElement>) =>*/}\n                                {/*    handleReplyChange(e)*/}\n                                {/*} />*/}\n                                {/*</Grid>*/}\n                                {/*<Grid item xs={3}>*/}\n                                {/*    <div className={classes.sendButtonWrapper}>*/}\n                                {/*        <Button*/}\n                                {/*            variant=\"contained\"*/}\n                                {/*            disableElevation*/}\n                                {/*            onClick={() => replyText(currentSentenceId, reply)}*/}\n                                {/*        >*/}\n                                {/*            送信*/}\n                                {/*        </Button>*/}\n                                {/*</Grid>*/}\n                                {/*</Grid>*/}\n                                {/* <input\n                                id=\"replyText\"\n                                type=\"input\"\n                                name=\"reply\"\n                                placeholder=\"ここに入力して送信ボタンを押してください\"\n                                onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n                                    handleReplyChange(e)\n                                }\n                            /> */}\n                                {/* <button onClick={() => {\n                                replyText(currentSentenceId, reply)\n                                // processScenario(btnScenarioId_1, \"0\")\n                            }}>送信</button> */}\n                            </div>\n                            : currentSentenceId === \"5\" ? //東京\n                                <div className={classes.mapLabel}>\n                                    目的地に到着したら下のマップページでチェックインしてシナリオを進めましょう\n                                </div>\n\n                            : currentSentenceId === \"68\" ?//大谷資料館\n                                <div className={classes.mapLabel}>\n                                    目的地に到着したら下のマップページでチェックインしてシナリオを進めましょう\n                            </div>\n                                : currentSentenceId === \"125\" ?//クーリ・ルージュ\n                                    <div className={classes.mapLabel}>\n                                        目的地に到着したら下のマップページでチェックインしてシナリオを進めましょう\n                            </div>\n\n                                    : currentSentenceId === \"165\" ?//若竹\n                                        <div className={classes.mapLabel}>\n                                            目的地に到着したら下のマップページでチェックインしてシナリオを進めましょう\n                              </div>\n\n                                        : currentSentenceId === \"216\" ?//二荒山神社\n                                            <div className={classes.mapLabel}>\n                                                目的地に到着したら下のマップページでチェックインしてシナリオを進めましょう\n                              </div>\n\n                                            : currentSentenceId === \"308\" ?//二荒山神社\n                                                <div className={classes.mapLabel}>\n                                                    目的地に到着したら下のマップページでチェックインしてシナリオを進めましょう\n                              </div>\n\n                                                : currentSentenceId === \"410\" ?//二荒山神社\n                                                    <div className={classes.mapLabel}>\n                                                        目的地に到着したら下のマップページでチェックインしてシナリオを進めましょう\n                              </div>\n\n                                                    : currentSentenceId === \"464\" ?//クラッセ\n                                                        <div className={classes.mapLabel}>\n                                                            目的地に到着したら下のマップページでチェックインしてシナリオを進めましょう\n                              </div>\n                                                        : currentSentenceId === \"546\" ?//SELECT\n                                                            <div className={classes.mapLabel}>\n                                                                目的地に到着したら下のマップページでチェックインしてシナリオを進めましょう\n                              </div>\n                                                            : currentSentenceId === \"625\" ?//最上\n                                                                <div className={classes.mapLabel}>\n                                                                    目的地に到着したら下のマップページでチェックインしてシナリオを進めましょう\n                              </div>\n                                                                : currentSentenceId === \"672\" ?//森林公園\n                                                                    <div className={classes.mapLabel}>\n                                                                        目的地に到着したら下のマップページでチェックインしてシナリオを進めましょう\n                              </div>\n                                                                    : currentSentenceId === \"730\" ?//森林公園\n                                                                        <div className={classes.mapLabel}>\n                                                                            目的地に到着したら下のマップページでチェックインしてシナリオを進めましょう\n                              </div>\n\n\n                                                                        :\n                                                                        <img className={classes.buttonDesign} src={Tap} onClick={() => { processScenario(\"\", \"\") }} />\n                        // <button className={classes.buttonDesign} onClick={() => { processScenario(\"\", \"\") }}>↑</button>\n\n                    }\n                    <BottomTab />\n                    {/* <Footer /> */}\n                </div>\n            </div>\n        </div>\n    )\n}\n\n\n\nexport default Chat;\n"]},"metadata":{},"sourceType":"module"}